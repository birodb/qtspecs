<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 033 Minutes 2023-05-02</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 033 Minutes 2023-05-02</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/12]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[10/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[7/12]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests</a></li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#pr-449">2.1. PR #449: Actions from review of PR #420</a></li>
<li><a href="#iss-369">2.2. Issue #369: Namespaces for Functions</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business?</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/12]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-08: RD to clarify how namespace comparisons are performed.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-026-01: MK to write a summary paper that outlines the decisions we need to make on “value sequences”
<ul class="org-ul">
<li>This is related to PR #368: Issue 129 - Context item generalized to context value and
subsequent discussion.</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-029-01: RD+DN to draft spec prose for the “divide and conquer” approach outlined in issue #399</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-029-07: NW to open the next discussion of #397 with a demo from DN
See PR <a href="https://qt4cg.org/dashboard/#pr-449">#449</a></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-033-01: MK to attempt to improve the first sentence of 18.1.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-033-02: MK to consider how to add <code>map:pair</code> and with appropriate naming.</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[10/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets BTW.
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Anthony (Tony) Bufort (AB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [0:11-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> John Lumley (JL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2023/05-02.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">

<div id="org96c1cdf" class="figure">
<p><img src="./issues-open-2023-05-02.png" alt="issues-open-2023-05-02.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="orgfcd7b98" class="figure">
<p><img src="./issues-by-spec-2023-05-02.png" alt="issues-by-spec-2023-05-02.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="org18a8ac3" class="figure">
<p><img src="./issues-by-type-2023-05-02.png" alt="issues-by-type-2023-05-02.png" />
</p>
<p><span class="figure-number">Figure 3: </span>“Burn down” chart on open issues</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2023/04-25.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
Four members gave regrets, possible regrets, or partial regrets for
next week, so we’ll skip that week.
</p>

<p>
The next meeting <a href="../../agenda/2023/05-16.html">is scheduled for Tuesday, 16 May 2023</a>.
</p>

<p>
No regrets heard. MSM and NW have a scheduling constraint, but will
work around it.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[7/12]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-08: RD to clarify how namespace comparisons are performed.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-026-01: MK to write a summary paper that outlines the decisions we need to make on “value sequences”
<ul class="org-ul">
<li>This is related to PR #368: Issue 129 - Context item generalized to context value and
subsequent discussion.</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-029-01: RD+DN to draft spec prose for the “divide and conquer” approach outlined in issue #399</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-029-07: NW to open the next discussion of #397 with a demo from DN
See PR <a href="https://qt4cg.org/dashboard/#pr-449">#449</a></li>
<li class="on"><code>[X]</code> QT4CG-031-03: CG to draft a PR to address issue #410</li>
<li class="on"><code>[X]</code> QT4CG-032-01: NW to make sure open PRs are on the agendas in future</li>
<li class="on"><code>[X]</code> QT4CG-032-02: MK to adjust the grammar in #433 per CGs suggestion.</li>
<li class="on"><code>[X]</code> QT4CG-032-03: MK to change 32 to 36 in 4.5.2 fn:parse-integer</li>
<li class="on"><code>[X]</code> QT4CG-032-04: JK to suggest an example for base 26.</li>
<li class="on"><code>[X]</code> QT4CG-032-05: MK to check that the terminology in format number isn’t too biased towards decimal</li>
<li class="on"><code>[X]</code> QT4CG-032-06: MK to a compatibility note about the use of ^ in format number.</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests</h3>
<div class="outline-text-3" id="text-open-pull-requests">
<p>
The following editorial PRs were open when this agenda was prepared.
The chair proposes that these can be merged without discussion. If you
think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-461">#461</a>: Make code more visually distinct</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-458">#458</a>: Update parse-integer and format-integer following review</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-456">#456</a>: Revises numeric literal syntax</li>
</ul>

<p>
Proposal: merge these PRs.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
<p>
Once again, this week’s agenda mostly continues where we left off last week.
I’ve moved a couple of hopefully easy PRs to the top of the list.
</p>
</div>

<div id="outline-container-pr-449" class="outline-3">
<h3 id="pr-449"><span class="section-number-3">2.1.</span> PR #449: Actions from review of PR #420</h3>
<div class="outline-text-3" id="text-pr-449">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-449">#449</a>
</p>

<p>
This appeared to be editorial, but response <a href="https://lists.w3.org/Archives/Public/public-xslt-40/2023Apr/0019.html">on the mailing list</a>
suggested that discussion was warranted.
</p>

<ul class="org-ul">
<li>MK: Some of these changes are in response to previous discussion;
attempt to draw it out and make it more clear.
<ul class="org-ul">
<li>… Bit of moving material around</li>
</ul></li>
<li>DN: I made a comment last week; one was that there was a sentence
before the definition of key-value pair is that says “entries or
pairs”. I suggested it should be edited to either “entries” or
“pairs”.</li>
<li>MK: There’s a slight problem here that we tend to introduce things
informally first then give the formal definitions. That can be a
little confusing.
<ul class="org-ul">
<li>… An entry or key-value pair is the same concept at a high level.</li>
</ul></li>
</ul>

<p>
ACTION QT4CG-033-01: MK to attempt to improve the first sentence of 18.1.
</p>

<ul class="org-ul">
<li>DN: The other thing that isn’t clear for me, we have two functions
for map entries, <code>map:entry</code> and <code>map:entries</code>, but we only have one
function <code>map:pairs</code> and not <code>map:pair</code>.</li>
<li>MK: Yes, once you have the table it invites that function.
<ul class="org-ul">
<li>… I think it probably just seemed easy to implement.</li>
<li>… But maybe we should have it.</li>
</ul></li>
</ul>

<p>
Some consensus to add <code>map:pair</code>.
</p>

<ul class="org-ul">
<li>JK: Where <code>map:entries</code> is decomposing where <code>map:entry</code> is
constructing. But <code>map:pairs</code> creates many pairs and <code>map:pair</code> is
going to create a single pair.</li>
<li>RD: What about <code>entries-of</code> and <code>pairs-of</code>.</li>
<li>MK: Adding a verb along side can help.</li>
</ul>

<p>
ACTION QT4CG-033-02: MK to consider how to add <code>map:pair</code> and with appropriate naming.
</p>

<ul class="org-ul">
<li>JL: We’ve got a small problem that if you take <code>map:entries</code> and
<code>map:merger</code>, they are inverses. But that’s not the case when you’re
doing with key/value micro-maps.</li>
<li>MK: No, we have inverses for them.</li>
<li>JL: Oh, right, okay.</li>
</ul>

<p>
Proposal: accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-iss-369" class="outline-3">
<h3 id="iss-369"><span class="section-number-3">2.2.</span> Issue #369: Namespaces for Functions</h3>
<div class="outline-text-3" id="text-iss-369">
<p>
See Issue <a href="https://github.com/qt4cg/qtspecs/issues/369">#369</a>
</p>

<ul class="org-ul">
<li>MK: This is an area where the spec contains provisional stuff that
we haven’t looked at that we need to review and accept or just scrap
(or do something else!).
<ul class="org-ul">
<li>… We have a lot of namespace proliferation/clutter. This issue
attempts to step back and say what the problem is and what we were
trying to solve.</li>
</ul></li>
</ul>

<p>
MK reviews the issue text.
</p>

<ul class="org-ul">
<li>RD: In Java and Kotlin and maybe others, where you have a name
clash, you can either reference it with the fully qualified form or
you can rename it when importing.</li>
<li>MK: One problem is that we use URIs not simple hierarchic names.</li>
</ul>

<p>
Some discussion of other kinds of names (something other than URIs),
but without any real hope.
</p>

<p>
MK continues, reviewing his proposal in the first comment.
</p>

<ul class="org-ul">
<li>SF: Talking about special namespaces and treatment about functions,
and then overriding. That will give more priority to the lastly
defined namespace. That will make possible global declarations with
local overrides. When you do that, you have to make inclusion and
exclusion symmetric.</li>
<li>JL: Of the function namespaces that I need to use, the vast majority
are <code>math:</code> or <code>array:</code> or <code>map:</code>. I don’t think there’s any clash
between <code>math:</code> and any of the others. But there is some between
<code>array:</code> and <code>map:</code>.</li>
<li>MK: Yes, there are a few. Like <code>replace</code>.</li>
<li>DN: First, it seems to me that this is mainly a problem with XSLT
and not XQuery because in XQuery many of these prefixes don’t need
to be declared.</li>
<li>MK: That solves one of the problems.</li>
<li>DN: In the past, I’ve repeatedly asked to do the same in XSLT. But I
understand why this isn’t acceptable. Some other thoughts: in C#,
there are “global usings”. What I think would be really interesting
would be to have a macro facility. We already have XInclude that can
include all the namespace declarations. Something like import, but
import will not work.</li>
<li>NW: You can’t do that with XInclude.</li>
<li>MK: The issue with XSLT and XML well-formedness only applies to
literal result elements. Any other use of prefixes, such as prefixes
for function names, could in principle defined by a separate
mechanism.</li>
<li>RD: I would be against adding polymorphism into the language because
that can get quite complicated. If we say that we’re only
restricting it to within the specification, we end up with some
capabilities are available in the language but not supported by the
language. I’m not against having overloaded resolution for functions
that are manually written. If there’s a name clash, then its up to
the user to implement a disambiguating function with the same
signature.
<ul class="org-ul">
<li>… That can get repetative, so we may need to look at a way to
standardize that for the name clashes that we have, but I’m not
sure how to do that.</li>
</ul></li>
<li>SF: When you say polymorphism will create ambiguity, we could use
scoping to avoid ambiguity. And the amount of code will increase a
lot if we have to write resolvers.</li>
<li>RD: The issue is where you import <code>array</code> and <code>map</code> that both have a
<code>size</code> function, then if the map version takes precedence, you can’t
call it with arrays and vice versa. So the polymorphism described
here is that in that case the function argument type is used to
disambiguate. I’m opposed to doing that automatically because it
complicates things like what happens if you take a function
reference to <code>size</code>, what does that bind to? I’m not opposed to a
user defining a size function with a type switch and doing the
polymorphism manually. I’m open to how to avoid code repetition in
that case.</li>
<li>SF: Strict typing in this case would be the answer. If you treat
functions and theirs parameters, then it would be sufficient.</li>
<li>MSM: Question of clarification: RD, when you say “if we imagine a
priority system that puts map:size before array:size, you can call
it with the other one,” but I assume that’s only for the unqualified
name.</li>
<li>RD: Yes, just the unprefixed version.</li>
<li>MSM: I have several things to observe. I’m not sure exactly where
they point in terms of concrete answers to the questions.
<ul class="org-ul">
<li>… I have felt a little uneasy about namespace clutter in XSLT.</li>
<li>… As a user of XSLT and XQuery, I think the biggest question is
how to reduce the number of namespace declarations so I wonder if
a way to define some default ones.</li>
<li>… Mike says that it’s annoying to have to put <code>math:</code> in front of
every math function. That’s a bit of an eye of the beholder question.</li>
<li>… When I was learning Java, I used fully qualified names.</li>
<li>… Using the <code>math:</code> prefix has never bothered me very much.</li>
<li>… The most important thing, I think, is that we should keep the
solution we move to on this very simple. I think that with both
XQuery and XSLT, there is a large(ish) population of people who
use them but not all the time. They aren’t professional
programmars. The more complicated this is to explain, the less
it’s going to help these people and the more it’s going to hurt
them. If we end up with a solution that only helps people who are
writing XSLT or XQuery eight hours a day, that’s not good.</li>
<li>… I do think that a rule that says you can use an unambigous name
without a prefix could help. And I observe that it doesn’t require
any particular changes vis-a-vis namespaces. It’s entirely
consonant with the namespaces spec to say that we treat a name
without a namespace by searching for it.</li>
<li>… I think a priority mechanism is too far over the line,
particularly if we are expecting to have any predefined bindings.
I’m never going to remember the ordering in a library that I
import and never look at.</li>
<li>… Last observation: we’re talking about functions today, how long
before someone asks about constants and variables.</li>
</ul></li>
<li>JK: +1 to everything that MSM said. The solutions that are being
proposed may be disorienting. I’d like to propose that we do a new
function that returns a map of the functions that have been imported
and what’s been overshadowed.</li>
<li>RD: MarkLogic has a “using” namespace declaration to allow you to
import all of the definitions from a URI into the current context.
We could do something similar, “using cos from math” and also
provide an alias (a different name) if it clashes.
<ul class="org-ul">
<li>… In XQuery, on projects I’ve worked on, there tend to be a lot of
imports for custom modules. What’s trickier for me is using
<code>local:</code> for local functions.</li>
</ul></li>
<li>NW: I’m not sure we should do anything in this area, but I’m one of
the minority that doesn’t find any of this namespace stuff
problematic. I object to defaulted namespaces in XQuery!</li>

<li>DN: I just forgot to say that we could use “decorators” for this. I
made a proposal about this, I’ll revise it.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business?</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>