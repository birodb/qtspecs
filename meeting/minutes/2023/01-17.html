<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 018 Minutes 2023-01-17</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 018 Minutes 2023-01-17</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/17]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[9/14]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[5/17]</code></a></li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#pr-grammar-if-then-else">2.1. Review pull request #284: Grammar for if-then w/o else</a></li>
<li><a href="#h-6142CC30-B435-4A23-8FEB-C7C5DAA040DD">2.2. Review pull request #304</a></li>
<li><a href="#h-E5807567-F254-497C-80BE-B6F7458D3FA7">2.3. Review pull request #290 (function type hierarchy)</a></li>
<li><a href="#h-4A6AF901-EAAE-4483-929B-3C72C53E1685">2.4. Review pull request #286: allow child::(a|b|c)</a></li>
<li><a href="#h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C">2.5. Issue #299 (formerly #281)</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/17]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-02: NW to improve the width of the diagrams, perhaps multiple views</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-04: NW to investigate of a dynamic presentation is practical</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-02: NW to add an ed-note indicating when it was approved.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-03: RD to add a note clarifying “known character encoding”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-04: RD to add a note clarifying the “*”/”*” html/version combination</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-05: RD to add a “todo” noting the dependency on keyword arguments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-06: RD to reword the introduction to mapping to clarify who’s doing the mapping</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-07: NW to make an issue about the problems of document-uri uniqueness</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-08: RD to clarify how namespace comparisons are performed.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-09: RD to add a note stating that the local name should always be lowercase</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-10: RD to consider how to clarify <i>parsed</i> entity parsing.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-018-01: MK to make a PR that removes ternary expressions.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-018-02: MK to review “In this notation, function-name, in bold face…” in 1.5.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-018-03: MK to address the issues raised in the commeont on PR 304</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-018-04: MK to consider the editorial suggestion on “a predicate is not part of a step”</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[9/14]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: BTW
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Anthony (Tony) Bufort (AB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="off"><code>[&#xa0;]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> John Lumley (JL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Liam Quin (LQ)</li>
<li class="off"><code>[&#xa0;]</code> Adam Retter</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2023/01-17.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2023/01-10.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2023/01-24.html">is scheduled for Tuesday, 24 January 2023</a>.
</p>

<p>
No regrets heard.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[5/17]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-02: NW to improve the width of the diagrams, perhaps multiple views</li>
<li class="on"><code>[X]</code> QT4CG-015-03: NW to make sure the direction of the arrow is in the legend
See PR #308</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-04: NW to investigate of a dynamic presentation is practical</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-02: NW to add an ed-note indicating when it was approved.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-03: RD to add a note clarifying “known character encoding”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-04: RD to add a note clarifying the “*”/”*” html/version combination</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-05: RD to add a “todo” noting the dependency on keyword arguments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-06: RD to reword the introduction to mapping to clarify who’s doing the mapping</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-07: NW to make an issue about the problems of document-uri uniqueness</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-08: RD to clarify how namespace comparisons are performed.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-09: RD to add a note stating that the local name should always be lowercase</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-10: RD to consider how to clarify <i>parsed</i> entity parsing.</li>
<li class="on"><code>[X]</code> QT4CG-017-01: MK to clarify the characters numbers in points 1 and 2 of fn:char</li>
<li class="on"><code>[X]</code> QT4CG-017-02: MK to change the order of points to 3, 4, 1, 2 in fn:char</li>
<li class="on"><code>[X]</code> QT4CG-017-03: SF to follow up on whether or not the browser has all the Unicode and emoji names.
<ul class="org-ul">
<li><a href="https://lists.w3.org/Archives/Public/public-xslt-40/2023Jan/0016.html">https://lists.w3.org/Archives/Public/public-xslt-40/2023Jan/0016.html</a></li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-017-04: MK to revise PR #284 to include an optional else ‘else’</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-pr-grammar-if-then-else" class="outline-3">
<h3 id="pr-grammar-if-then-else"><span class="section-number-3">2.1.</span> Review pull request #284: Grammar for if-then w/o else</h3>
<div class="outline-text-3" id="text-pr-grammar-if-then-else">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-284">pull request #284</a>. Some discussion <a href="https://qt4cg.org/meeting/minutes/2023/01-10.html">last week</a>.
</p>

<ul class="org-ul">
<li>MK thinks he had a clear action last week; has updated PR #284</li>
<li>MK reviews #284
<ul class="org-ul">
<li>… MK reviews 4.15, Conditional Expressions</li>
</ul></li>

<li>MSM: I persuaded myself this wasn’t ambiguous because of the braces,
but I’m worried about an if within an else that isn’t braced.</li>
<li>RD: Do you mean a braced if with a regular if inside it?</li>
</ul>

<p>
Some attempt to construct an example on the fly…
</p>

<p>
At this point, some of the discussion is about examples presented in
the chat window. The scribe does his best…
</p>

<ul class="org-ul">
<li><p>
MSM adds to chat: 
</p>

<p>
<code>if (condition) { then-clause } else { else-clause }</code>
</p>

<p>
but in the case that the else-clause is a conditional, then 
</p>

<p>
<code>if (condition) { then-clause } if (c2) { then-2 } else { else-clause }</code>
</p></li>

<li>DN: If we substitute <code>ExprSingle</code> with another <code>IfExpr</code> and another
unbraced action, then we’ll have <code>else</code> ambiguity.</li>

<li>RD observes there’s a typo in the example</li>

<li><p>
MSM: Else ambiguity an only arise if you have conditions in the then clause. Let’s consider:
</p>

<p>
<code>if (condition) { then-clause } else if (c2) { then-2 } else { else-clause }</code>
</p>

<p>
<code>if (condition) { then-clause } else { if (c2) { then-2 } else { else-clause } }</code>
</p></li>

<li>MSM: What I was expecting to see required, but is only allowed, is
that you can put the else clause in a braces.</li>

<li>MSM: I was concerned about the first case but I think it’s unambiguous.</li>

<li>MK: The special case of the intermede else-if clauses are only
allowed a “then” branch, they aren’t allowed their own “else”
branches.</li>

<li>RD: One way to view this is that it’s kind of similar to switch and
type-switch statements.</li>

<li>MSM: I believe it is in fact unambigous.</li>

<li>MK: It requires a single token lookahead but it’s unambiguous.</li>

<li>RD: Another thing with respect to grammar ambiguity: this pattern is
common in a lot of languages like C/C++/Java/C#/JavaScript/etc.</li>

<li>MSM: Yes, but if you transcribe the grammar for C into clean grammar
formalism, you will find that they’re full of ambiguities! They’re
expecting manually written parsers. There are a lot of ad hoc rules
and my life is not completely filled with regret that we didn’t hold
the line on ad hoc rules better.</li>

<li>RD: There are BNF grammars for C.</li>

<li>MSM: Yes, and if you put them through a grammar analysis tool, you
will find huge amounts of ambiguity. At least I did!</li>
</ul>

<p>
Some questions about the ambiguity of “C” arise. MSM agrees to dig up
his notes.
</p>

<p>
The group seems satisfied that this is not ambiguous.
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>

<ul class="org-ul">
<li>MK: What is the sentiment of the group about the ternary conditional?</li>

<li>CG: Now that we have two alternatives for if/then, I could skip
ternary expressions.</li>
</ul>

<p>
Some voices of agreement.
</p>

<p>
ACTION QT4CG-018-01: MK to make a PR that removes ternary expressions.
</p>
</div>
</div>

<div id="outline-container-h-6142CC30-B435-4A23-8FEB-C7C5DAA040DD" class="outline-3">
<h3 id="h-6142CC30-B435-4A23-8FEB-C7C5DAA040DD"><span class="section-number-3">2.2.</span> Review pull request #304</h3>
<div class="outline-text-3" id="text-h-6142CC30-B435-4A23-8FEB-C7C5DAA040DD">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-304">pull request #304</a>. This is Mike’s PR #292 redrafted by Norm. Mike writes:
</p>

<p>
I regret that this has turned into a bit of an omnibus PR. The main changes are:
</p>

<ul class="org-ul">
<li>Fix validity issues with the function catalog and its schema (Issue 291)</li>
<li>Convert all functions to use a single signature with optional parameters (Issue 70)</li>
<li>Extend the function catalog to handle record definitions (Issue 257)</li>
<li>Fix the (trivial) bug with properties of fn:path (Issue 288)</li>
<li>Add introductory text concerning the handling of operators (Issue 35)</li>
</ul>

<p>
MK reviews PR #304.
</p>

<ul class="org-ul">
<li>MK: The primary aim was to change the function signatures.
<ul class="org-ul">
<li>… For example, fn:string-join has one signature instead of two.</li>
<li>… There may need to be more ammendments to the prose if we find
mentions of particular signatures.</li>
</ul></li>
<li>MK: I went on to address the title of the document in section 1.1
Operators.</li>
<li>DN: Are all the functions from 3.1 that have more than one overload
convert to this new format?</li>
<li>MK: The vast majority are, but there are one or two that you can’t.
For example, the single-argument form of fn:tokenize doesn’t have an
equivalent form with default arguments.</li>
<li>DN: If this is only partially done, we probably need an issue to
review it.</li>
<li>NW: The other thing you mentioned was fn:path</li>
<li>MK: That’s a simple typo I fixed.</li>
<li>JL: Are all the operators functionable now?</li>
<li>MK: All the first-order operators are.</li>
<li>MSM: In section 1.5 Function signatures and descriptions, strictly
speaking it’s the local name of the function. The name of the
function is “fn:”-function name.</li>
<li>MK: In that paragraph, it should say <code>fn:function-name</code></li>
</ul>

<p>
Some discussion of whether it would be better to use fn:function-name
or to refer to the function-name as the local name.
</p>

<p>
ACTION QT4CG-018-02: MK to review “In this notation, function-name, in bold face…” in 1.5.
</p>

<ul class="org-ul">
<li>MK: I raised some errata in the PR entry, but I propose to fix them
after the merge.</li>
</ul>

<p>
ACTION QT4CG-018-03: MK to address the issues raised in the commeont on PR 304
</p>

<ul class="org-ul">
<li>RD: I think I raise an issue for the “**” in the signature of
<code>fn:all-different</code>, issue #62</li>
</ul>

<p>
Proposal: accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-E5807567-F254-497C-80BE-B6F7458D3FA7" class="outline-3">
<h3 id="h-E5807567-F254-497C-80BE-B6F7458D3FA7"><span class="section-number-3">2.3.</span> Review pull request #290 (function type hierarchy)</h3>
<div class="outline-text-3" id="text-h-E5807567-F254-497C-80BE-B6F7458D3FA7">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-290">pull request #290</a>. This PR seems to be against an earlier draft so
the diff markup is a bit odd. I believe the only intended change is the
<a href="https://qt4cg.org/pr/290/xpath-datamodel-40/autodiff.html#function-items">paragraph</a> in <i>2.9.1 Functions</i>.
</p>

<ul class="org-ul">
<li>NW tries to explain his remark about 2.9.1</li>
<li>MK: This change corrects the incorrect statement that there’s a
hierarchy of function types. The rules for subtyping functions mean
that the graph of subtypes of functions isn’t a heirarchy. It’s
acyclic but not hierarchic.</li>
</ul>

<p>
Proposal: accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-4A6AF901-EAAE-4483-929B-3C72C53E1685" class="outline-3">
<h3 id="h-4A6AF901-EAAE-4483-929B-3C72C53E1685"><span class="section-number-3">2.4.</span> Review pull request #286: allow child::(a|b|c)</h3>
<div class="outline-text-3" id="text-h-4A6AF901-EAAE-4483-929B-3C72C53E1685">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-286">pull request #286</a>. 
</p>

<ul class="org-ul">
<li>MK reviews the PR
<ul class="org-ul">
<li>… This primarily effects XPath but also impacts XSLT.</li>
<li>… In 4.6.2.2 MK reviews the production changes</li>
<li>… The only other complication is where that fits into the grammar.</li>
<li>… There’s a change in 4.6.3 about reverse axes</li>
</ul></li>
<li>JL: Is the union required to be flat in the grammar? I can’t bracket
inside the brackets?</li>
<li>MK: Yes, that was a deliberate simplification.</li>
<li>MSM: I found the explanation, “the predicate is not part of a step”
a bit opaque. Would it be clearer to say that the predicate applies
to the result of a union. That will remind some readers that unions
sort into document order.</li>
</ul>

<p>
ACTION QT4CG-018-04: MK to consider the editorial suggestion on “a predicate is not part of a step”
</p>

<ul class="org-ul">
<li>RD: Thinking about grammatical ambiguities, in addition to applying
to forward and backwards steps it also applies to abbreviated steps.</li>
<li>MK: Yes.
<ul class="org-ul">
<li>… Moves to 4.6.5 to show that you can’t have a union node test all
on it’s own.</li>
</ul></li>
<li>MK: In XSLT…
<ul class="org-ul">
<li>… It’s all about how patterns and precedence interact with these
changes.</li>
<li>… The default precedence is extended to cover this new case.</li>
</ul></li>
<li>MSM: Since the union node tests need to be flat, unlike a union
expression, the union node test will always produce patterns with
the same priority, no?</li>
<li>MK: No, because…</li>
<li>JL: Yes, because…</li>
</ul>

<p>
Some discussion ensues.
</p>

<ul class="org-ul">
<li>MK: No, it can be a NameTest and a NameTest can have a wild card.</li>
<li>MSM: Right. Thank you.</li>
</ul>

<p>
Proposal: accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C" class="outline-3">
<h3 id="h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C"><span class="section-number-3">2.5.</span> Issue #299 (formerly #281)</h3>
<div class="outline-text-3" id="text-h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C">
<p>
We had <a href="https://qt4cg.org/meeting/minutes/2022/12-13.html#issue-281">some discussion</a> of <a href="https://github.com/qt4cg/qtspecs/issues/281">#281</a> previously, but no resolution. Awaiting
more feedback from the CG in the issue.
</p>

<ul class="org-ul">
<li>NW: Did you get more feedback?</li>
<li>DN: Yes, there was a thread about additional guards. That got
several informal approvals.
<ul class="org-ul">
<li>… We made progress in formalizing what lazy means.</li>
<li>… We can have lazy() as a function with a single argument.</li>
<li>… It’s body is another function with zero arguments and its body
is the expression.</li>
<li>… If we a variable of type expression, then the result must not be
inlined.</li>
<li>… Still waiting for some feedback from RD about laziness on a
compound structure.</li>
<li>… RD proposed wildcard notation which means we don’t need other
parts of the object.</li>
</ul></li>
<li>DN: I suggest we leave this open and give other people a chance to
review.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
</div>
</div>
</div>
</body>
</html>
