<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 019 Minutes 2023-01-24</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 019 Minutes 2023-01-24</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/17]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[8/14]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[5/17]</code></a></li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#h-17E5E963-1899-45E2-A5C9-2922B81D3855">2.1. Review pull request #313 fn:remove()</a></li>
<li><a href="#h-7E48258D-5A4F-43AC-A346-69725B2A6858">2.2. Review pull request #312 minor editorial improvements</a></li>
<li><a href="#h-7E48258D-5A4F-43AC-A346-69725B2A6858">2.3. Review pull request #310 outstanding issues from PR #304</a></li>
<li><a href="#h-7E48258D-5A4F-43AC-A346-69725B2A6858">2.4. Review pull request #309 drop ternery conditionals</a></li>
<li><a href="#h-7E48258D-5A4F-43AC-A346-69725B2A6858">2.5. Review pull request #308 improvements to type diagrams</a></li>
<li><a href="#h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C">2.6. Issue #299 (formerly #281)</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="./01-31.html">at meeting 020</a> on 31 January 2023.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/17]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-02: NW to improve the width of the diagrams, perhaps multiple views</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-04: NW to investigate of a dynamic presentation is practical</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-02: NW to add an ed-note indicating when it was approved.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-03: RD to add a note clarifying “known character encoding”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-04: RD to add a note clarifying the “*”/”*” html/version combination</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-05: RD to add a “todo” noting the dependency on keyword arguments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-06: RD to reword the introduction to mapping to clarify who’s doing the mapping</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-07: NW to make an issue about the problems of document-uri uniqueness</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-08: RD to clarify how namespace comparisons are performed.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-09: RD to add a note stating that the local name should always be lowercase</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-10: RD to consider how to clarify <i>parsed</i> entity parsing.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-020-01: MK to fix the type of <code>$pattern</code> in <code>fn:tokenize()</code></li>
<li class="off"><code>[&#xa0;]</code> QT4CG-020-02: NW to revisit the width issue in the type diagrams</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[8/14]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets: BTW, EP, MK
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Anthony (Tony) Bufort (AB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [:12-]</li>
<li class="off"><code>[&#xa0;]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> John Lumley (JL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Liam Quin (LQ)</li>
<li class="off"><code>[&#xa0;]</code> Adam Retter</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2023/01-24.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2023/01-17.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2023/01-31.html">is scheduled for Tuesday, 31 January 2023</a>.
</p>

<p>
No regrets heard.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[5/17]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-02: NW to improve the width of the diagrams, perhaps multiple views</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-015-04: NW to investigate of a dynamic presentation is practical</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-02: NW to add an ed-note indicating when it was approved.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-03: RD to add a note clarifying “known character encoding”</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-04: RD to add a note clarifying the “*”/”*” html/version combination</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-05: RD to add a “todo” noting the dependency on keyword arguments</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-06: RD to reword the introduction to mapping to clarify who’s doing the mapping</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-07: NW to make an issue about the problems of document-uri uniqueness</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-08: RD to clarify how namespace comparisons are performed.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-09: RD to add a note stating that the local name should always be lowercase</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-016-10: RD to consider how to clarify <i>parsed</i> entity parsing.</li>
<li class="on"><code>[X]</code> QT4CG-018-01: MK to make a PR that removes ternary expressions.</li>
<li class="on"><code>[X]</code> QT4CG-018-02: MK to review “In this notation, function-name, in bold face…” in 1.5.</li>
<li class="on"><code>[X]</code> QT4CG-018-03: MK to address the issues raised in the commeont on PR 304</li>
<li class="on"><code>[X]</code> QT4CG-018-04: MK to consider the editorial suggestion on “a predicate is not part of a step”</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
<p>
We have regrets from MK for this week, but some of these PRs seem
straight-forward enough to resolve in his absence.
</p>
</div>

<div id="outline-container-h-17E5E963-1899-45E2-A5C9-2922B81D3855" class="outline-3">
<h3 id="h-17E5E963-1899-45E2-A5C9-2922B81D3855"><span class="section-number-3">2.1.</span> Review pull request #313 fn:remove()</h3>
<div class="outline-text-3" id="text-h-17E5E963-1899-45E2-A5C9-2922B81D3855">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-313">pull request #313</a>.
</p>

<p>
Proposal: Accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-7E48258D-5A4F-43AC-A346-69725B2A6858" class="outline-3">
<h3 id="h-7E48258D-5A4F-43AC-A346-69725B2A6858"><span class="section-number-3">2.2.</span> Review pull request #312 minor editorial improvements</h3>
<div class="outline-text-3" id="text-h-7E48258D-5A4F-43AC-A346-69725B2A6858">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-312">pull request #312</a>.
</p>

<ul class="org-ul">
<li>NW: This was your change MSM. Are you satisified?</li>
<li>MSM: Okay.</li>
</ul>

<p>
Some discussion of the “fn” prefix.
</p>

<ul class="org-ul">
<li>DN: It’s good that in XPath there are implicit bindings for
prefixes. We don’t have this in XSLT; I’ve proposed it.</li>
</ul>

<p>
Proposal: Accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-7E48258D-5A4F-43AC-A346-69725B2A6858" class="outline-3">
<h3 id="h-7E48258D-5A4F-43AC-A346-69725B2A6858"><span class="section-number-3">2.3.</span> Review pull request #310 outstanding issues from PR #304</h3>
<div class="outline-text-3" id="text-h-7E48258D-5A4F-43AC-A346-69725B2A6858">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-310">pull request #310</a>.
</p>

<ul class="org-ul">
<li>JL: The type of <code>$pattern</code> in <code>fn:tokenize()</code> has to be <code>xs:string?</code></li>
</ul>

<p>
ACTION QT4CG-020-01: MK to fix the type of <code>$pattern</code> in <code>fn:tokenize()</code>
</p>

<p>
Some discussion of parameter passing…
</p>

<p>
Proposal: Accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-7E48258D-5A4F-43AC-A346-69725B2A6858" class="outline-3">
<h3 id="h-7E48258D-5A4F-43AC-A346-69725B2A6858"><span class="section-number-3">2.4.</span> Review pull request #309 drop ternery conditionals</h3>
<div class="outline-text-3" id="text-h-7E48258D-5A4F-43AC-A346-69725B2A6858">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-309">pull request #309</a>.
</p>

<p>
Proposal: Accept this PR
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-7E48258D-5A4F-43AC-A346-69725B2A6858" class="outline-3">
<h3 id="h-7E48258D-5A4F-43AC-A346-69725B2A6858"><span class="section-number-3">2.5.</span> Review pull request #308 improvements to type diagrams</h3>
<div class="outline-text-3" id="text-h-7E48258D-5A4F-43AC-A346-69725B2A6858">
<p>
See <a href="https://qt4cg.org/dashboard/#pr-308">pull request #308</a>.
</p>

<p>
Changes not successfully presented.
</p>

<ul class="org-ul">
<li>RD: If we moved xs:integer and xs:string out, then maybe it would be narrower.</li>
<li>DN: I would like to see the nodes on the right levels.</li>
</ul>

<p>
Some further discussion of the layout.
</p>

<ul class="org-ul">
<li>JL: If you start to pull the diagrams apart, if you give labels to
the groups will begin to make people think they have those names.</li>

<li>MSM: Just keep xs:anyAtomicType on the root level, don’t add
intermediate labels.</li>
</ul>

<p>
Some discussion of a prose description.
</p>

<ul class="org-ul">
<li>MSM: I think this is as good a job narrowing it as can be done. I’d
be happy to accept this. If we want to avoid side-to-side scrolling,
the tree notation that’s most successfull at dealing with narrow
columns is the indentation form that you see in file explorers.
Splitting out subtrees for width reasons makes the shape of the
entire tree harder to visualize, so I’m concerned about that.</li>

<li>NW: I’ll explore that. And I’ll fix the horizontal scrolling.</li>

<li>JK: One I look at the legend, what is the meaning of a box with two
items in it?</li>

<li>RD: We could try to make a graph something like this, from the XML
Schema spec: <a href="https://www.w3.org/TR/xmlschema-2/#built-in-datatypes">https://www.w3.org/TR/xmlschema-2/#built-in-datatypes</a></li>

<li>DN: It’s also narrower because it leaves off the xs: prefixes.</li>

<li>MSM: I prefer the 1.1 diagram:
<a href="https://www.w3.org/TR/xmlschema11-2/#built-in-datatypes">https://www.w3.org/TR/xmlschema11-2/#built-in-datatypes</a>.
And I see that it’s vertical.</li>

<li>RD: I think it makes sense.</li>
</ul>

<p>
RD offers to try experimenting with a few layouts.
</p>

<ul class="org-ul">
<li>MSM: Apropos of trying to make this something that could be
generated, the vertical diagram is SVG and it’s unlikely that I
didn’t generate it!</li>
</ul>

<p>
ACTION QT4CG-020-02: NW to revisit the width issue in the type diagrams
</p>
</div>
</div>

<div id="outline-container-h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C" class="outline-3">
<h3 id="h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C"><span class="section-number-3">2.6.</span> Issue #299 (formerly #281)</h3>
<div class="outline-text-3" id="text-h-EF7A6EB3-0BDC-4E8E-A805-8461FD43964C">
<p>
We had <a href="https://qt4cg.org/meeting/minutes/2022/12-13.html#issue-281">some discussion</a> of <a href="https://github.com/qt4cg/qtspecs/issues/281">#281</a> previously, but no resolution. Awaiting
more feedback from the CG in the issue.
</p>

<ul class="org-ul">
<li>NW: It seems like most of the feedback is that this should be an
implementation detail.</li>
<li>DN: In MK’s absence, I’m not sure we can discuss this, but I would
like to give an update. I’ve made the specification much more
concise; wildcards in a destructuring expression should be lazy by default.
That was the construtive part. There was a lot of
discussion about what an “average” user is. I think this also an
important topic.
<ul class="org-ul">
<li>… RD provided information that such functions are in MarkLogic.</li>
<li>… While MarkLogic’s functions are not exactly as what is proposed
here, it is notable that an implementor thought about the
laziness/eagerness issue and provided facilities for the users to
indicate this. Probably they had significant reasons to do this.</li>
<li>… MK is saying that if we give this option to the user, the user
will not be able to take advantage of it.</li>
</ul></li>
</ul>

<p>
DN shares his screen, showing xsl:evaluate from XSLT
</p>

<ul class="org-ul">
<li>DN: There are lots of things in xsl:evaluate that are much more
dangerous than my proposal for a lazy keyword. We’re all users, I
don’t know what the average user is.</li>

<li>RD: It would be interesting to see if there are any other
programming languages that have this kind of functionality. As I
said in the thread, optimization is hard. A lot of processors invest
a lot of time and resources optimizing the queries. In general
writing an optimal query can in some cases be counter-intuitive and
heavily dependent on the particular processor and processor version.
The thing I’m not sure on is how a thing like a “lazy” keyword would
benefit the processor. And how will the user know where to put it
without causing performance issues. It can also be highly dependent
on the actual data that you’re using.
<ul class="org-ul">
<li>… There’s an example where it’s more optimal to use bubble sort
than any other kind of sort if you have a list that’s already
mostly sorted.</li>
<li>… Those kinds of decisions are generally better made by the processor.</li>
</ul></li>

<li>DN: I totally agree. I’m afraid most people misuderstand the
proposal. It’s not supposed to replace the optimizer. I would only
use it when I was desperate. It should only be done as a last resort.</li>

<li>NW: I’m not sure that the danger of xsl:evaluate is exactly relevant.</li>

<li>DN: I think it was good that xsl:evaluate was added and I think that
it would be good to add lazy.</li>

<li>DN: In Haskel everything is lazy by default. You have to request
eager evaluation.</li>

<li>MSM: I’m greatful to RD and DN working together to allow me to see
this in a slighly different light. It’s one particular way that one
could give a hint to an optimizer. The bubble sort example is a good
one, under particular conditions this algorithm is better than that
one. In general, type systems let you know those things, but it’s
always possible that the optimizer could use information that it
doesn’t have, if it could have it. If I think of it as a hint I
could give the processor, then it feels like a processing
instruction. It shows the implementors know what it’s like to have a
four o’clock deadline!</li>

<li>CG: My personal impression is that we need at least one implementor
that’s convinced about how to implement such a keyword. There are so
many ways that users could use it. Would it have an impact on error
reporting? What happens if the query is reordered? If it’s not 100%
specified.</li>

<li>DN: I think the lazy keywords is defined strictly. I think what
you’re asking about is the lazy function, and it’s semantics are
defined strictly.</li>

<li>RD: To the point of why xsl:evaluate is dangerous, it’s because if
you’re referencing user generated data, you could then open yourself
up to running arbitrary code. To the point of the lazy keyword, the
some and every quantifier expressions already specify the behavior
of lazy evaluation if a processor wants to short-circuit when they
encounter a value that’s either true or false (depending). I’m not
sure that the specification says that a let expression has to be
evaluated then-and-there. There are consistency constraints, but
apart from that as long as it evaluates the expression that it needs
to in ways that are functionally equivalent, it can defer it.
<ul class="org-ul">
<li>… There’s no gaurantee that a processor will know what to do with
a lazy keyword.</li>
</ul></li>
</ul>

<p>
Some discussion of whether this should be a hint or something
manditory. 
</p>

<ul class="org-ul">
<li>RD: I think it might be more useful to try to highlight areas where
lazy evaluation could be done by a processor.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
</div>
</div>
</div>
</body>
</html>
