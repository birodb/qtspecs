<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 005 Minutes 2022-10-04</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 005 Minutes 2022-10-04</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/7]</code></a></li>
<li><a href="#h-CF284F42-EB1E-4257-BF5F-AEB7129DB194">1. Administrivia</a>
<ul>
<li><a href="#h-4CCBB41C-ED9C-4944-B6F3-F02A6470E209">1.1. Roll call <code>[9/13]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#h-42AC7180-0313-4CC0-8063-28F488D943F7">1.3. Next meeting</a></li>
<li><a href="#approve-minutes">1.4. Approve minutes of the previous meeting</a></li>
<li><a href="#h-735AFFA8-69A5-4E59-B1BF-D3B65494FEE4">1.5. Review of open action items <code>[4/7]</code></a></li>
<li><a href="#h-659849EE-D43D-40B9-843D-6C8B98B0E955">1.6. W3C CG Page</a></li>
</ul>
</li>
<li><a href="#h-8BF0F2E9-11A2-4221-AAAD-00341B344DAC">2. Technical Agenda</a>
<ul>
<li><a href="#h-EDBE2B53-92B3-44E9-B707-4FBA30009BF5">2.1. Approve PR #163</a></li>
<li><a href="#h-BA1124B9-14F2-4090-B5B1-9E01FC787B7E">2.2. Variadic functions</a></li>
<li><a href="#h-FF8941A9-F30B-4F3F-9F6E-00B3614DA2A4">2.3. XPath 4.0 functions</a>
<ul>
<li><a href="#h-DC03723F-0797-4406-80C6-F8709C93D26A">2.3.1. fn:replicate</a></li>
<li><a href="#h-D92E3BB8-18B3-4FCB-B789-A6DEEA2CCBC9">2.3.2. The family of functions proposed as fn:range-from/fn:range-to and others</a></li>
<li><a href="#h-782DCD58-658F-44BC-8AD7-1EE8301228F1">2.3.3. fn:duplicate-values</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h-BF9058D4-4FAD-428B-89FD-89907EF7F0E5">3. Any other business</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="./10-11.html">at meeting 006</a> on 11 October 2022.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/7]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-01: NW to incorporate email feedback and produce new
versions of the process documents.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-003-03: NW to tweak the CSS for function signatures to avoid line breaks on <code>-</code> characters.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-005-01: NW to update the W3C CG page to reflect the current chairs</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-005-02: NW to investigate how the function dropdown works and if it’s buggy</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-005-03: RD to review the variadic functions proposal in #166</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-005-04: MK to draft a concrete proposal for the range-related functions</li>
</ul>
</div>
</div>

<div id="outline-container-h-CF284F42-EB1E-4257-BF5F-AEB7129DB194" class="outline-2">
<h2 id="h-CF284F42-EB1E-4257-BF5F-AEB7129DB194"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-h-CF284F42-EB1E-4257-BF5F-AEB7129DB194">
</div>

<div id="outline-container-h-4CCBB41C-ED9C-4944-B6F3-F02A6470E209" class="outline-3">
<h3 id="h-4CCBB41C-ED9C-4944-B6F3-F02A6470E209"><span class="section-number-3">1.1.</span> Roll call <code>[9/13]</code></h3>
<div class="outline-text-3" id="text-h-4CCBB41C-ED9C-4944-B6F3-F02A6470E209">
<p>
Regrets: BTW, JL
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Anthony Bufort (AB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="off"><code>[&#xa0;]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="off"><code>[&#xa0;]</code> John Lumley (JL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="off"><code>[&#xa0;]</code> Liam Quin (LQ)</li>
<li class="on"><code>[X]</code> Adam Retter [0:06-]</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (CSM)</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Chair</i>. <i>Scribe</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2022/10-04.html">the agenda</a>?
</p>

<ul class="org-ul">
<li>CMS: I’d like to add an administrivia item about the W3C CG page.</li>
</ul>

<p>
Accepted with that amendment.
</p>
</div>
</div>

<div id="outline-container-h-42AC7180-0313-4CC0-8063-28F488D943F7" class="outline-3">
<h3 id="h-42AC7180-0313-4CC0-8063-28F488D943F7"><span class="section-number-3">1.3.</span> Next meeting</h3>
<div class="outline-text-3" id="text-h-42AC7180-0313-4CC0-8063-28F488D943F7">
<p>
The next meeting <a href="../../agenda/2022/10-11.html">is scheduled for Tuesday, 11 October</a>. Any regrets?
</p>

<p>
No regrets heard. MK may possibly be unavialable.
</p>

<ul class="org-ul">
<li>NW: I propose we cancel the meeting if MK is unavailable.</li>
</ul>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.4.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2022/09-27.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-735AFFA8-69A5-4E59-B1BF-D3B65494FEE4" class="outline-3">
<h3 id="h-735AFFA8-69A5-4E59-B1BF-D3B65494FEE4"><span class="section-number-3">1.5.</span> Review of open action items <code>[4/7]</code></h3>
<div class="outline-text-3" id="text-h-735AFFA8-69A5-4E59-B1BF-D3B65494FEE4">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-01: NW to incorporate email feedback and produce new
versions of the process documents.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-003-03: NW to tweak the CSS for function signatures to avoid line breaks on <code>-</code> characters.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="on"><code>[X]</code> QT4CG-004-01: MK (with DN and RD) to draft a new proposal for variadic functions</li>
<li class="on"><code>[X]</code> QT4CG-004-02: DN to make a proposal for  <code>deep-equal-safe</code> for future discussion
<ul class="org-ul">
<li><a href="https://lists.w3.org/Archives/Public/public-xslt-40/2022Sep/0091.html">https://lists.w3.org/Archives/Public/public-xslt-40/2022Sep/0091.html</a></li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-004-03: MK to draft a pull request implementing <code>fn:intersperse</code>
<ul class="org-ul">
<li>See below.</li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-004-04: DN to open an issue for the inverse of <code>fn:intersperse</code>
<ul class="org-ul">
<li>DN withdraws the suggestion.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-h-659849EE-D43D-40B9-843D-6C8B98B0E955" class="outline-3">
<h3 id="h-659849EE-D43D-40B9-843D-6C8B98B0E955"><span class="section-number-3">1.6.</span> W3C CG Page</h3>
<div class="outline-text-3" id="text-h-659849EE-D43D-40B9-843D-6C8B98B0E955">
<ul class="org-ul">
<li>CMS: I notice that the list of chairs has not been updated on the W3C CG page.</li>
</ul>

<p>
ACTION QT4CG-005-01: NW to update the W3C CG page to reflect the current chairs
</p>
</div>
</div>
</div>

<div id="outline-container-h-8BF0F2E9-11A2-4221-AAAD-00341B344DAC" class="outline-2">
<h2 id="h-8BF0F2E9-11A2-4221-AAAD-00341B344DAC"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-h-8BF0F2E9-11A2-4221-AAAD-00341B344DAC">
</div>

<div id="outline-container-h-EDBE2B53-92B3-44E9-B707-4FBA30009BF5" class="outline-3">
<h3 id="h-EDBE2B53-92B3-44E9-B707-4FBA30009BF5"><span class="section-number-3">2.1.</span> Approve PR #163</h3>
<div class="outline-text-3" id="text-h-EDBE2B53-92B3-44E9-B707-4FBA30009BF5">
<p>
This PR completes Michael’s action to <a href="https://github.com/qt4cg/qtspecs/pull/163">draft prose for fn:intersperse</a>.
</p>

<p>
Accepted.
</p>

<ul class="org-ul">
<li>DN: There seems to be some issue with the drop down. On the main
spec page where this hasn’t been adopted, there is a dropdown that
doesn’t go anywhere.</li>
</ul>

<p>
ACTION QT4CG-005-02: NW to investigate how the function dropdown works and if it’s buggy
</p>
</div>
</div>

<div id="outline-container-h-BA1124B9-14F2-4090-B5B1-9E01FC787B7E" class="outline-3">
<h3 id="h-BA1124B9-14F2-4090-B5B1-9E01FC787B7E"><span class="section-number-3">2.2.</span> Variadic functions</h3>
<div class="outline-text-3" id="text-h-BA1124B9-14F2-4090-B5B1-9E01FC787B7E">
<ul class="org-ul">
<li>See <a href="https://github.com/qt4cg/qtspecs/pull/166">pull request #166</a> (you’ll find links to formatted versions of the specs at <a href="https://qt4cg.org/">https://qt4cg.org/</a>).
<ul class="org-ul">
<li>Note: this was incorrectly identified as PR #163 in the agenda.</li>
</ul></li>
<li>See also the nexus of issues <a href="https://github.com/qt4cg/qtspecs/issues/162">#162</a>, <a href="https://github.com/qt4cg/qtspecs/issues/161">#161</a>, <a href="https://github.com/qt4cg/qtspecs/issues/160">#160</a>, <a href="https://github.com/qt4cg/qtspecs/issues/159">#159</a>, <a href="https://github.com/qt4cg/qtspecs/issues/158">#158</a>, <a href="https://github.com/qt4cg/qtspecs/issues/157">#157</a>, and <a href="https://github.com/qt4cg/qtspecs/issues/155">#155</a>.</li>
</ul>

<p>
We had a good discussion of this <a href="../../minutes/2022/09-27.html#h-19F083AF-29AB-4414-A742-ABAB0B2FA2E6">last week</a> and there has been plenty
of activity since. This item is to check with the group to see if
there issues that would benefit from immediate discussion or if the
proposals are still proceeding apace.
</p>

<ul class="org-ul">
<li>MK: I ‘d like to get the proposal that I did against #166 reviewed
and accepted, then consider the amendments. I haven’t had much
feedback on the proposal as it stands. If folks need to be talked
thorugh it, i’m happy to do that.</li>
<li>RD: Haven’t looked at it in depth, I’ll take an action to do that.</li>
</ul>

<p>
ACTION QT4CG-005-03: RD to review the variadic functions proposal in #166
</p>

<p>
We’ll review this proposal next week.
</p>

<ul class="org-ul">
<li>DN: I have the feeling that we made good progress on one of the
issues. I’d like to see it reflected in the proposal. In particular,
how to represent what was called sequence variadic calls. I think we
finally came to an agreement, but I’d like to see it in the spec.</li>

<li>MK: That’s a subsequent proposal. CMS proposed splitting it into
parts and I think that was a really good idea.</li>

<li>NW: Is that ok with everyone?</li>

<li>DN: Yes. We’re just talking about the very first part.</li>

<li>MK: the first part defines default values for function parameters in
XQuery and XSLT; defines the ability to do function calls in XPath
with keyword arguments; and picking up the defaults when you the
bind them. It does that for static function calls and static partial
applications.</li>
</ul>
</div>
</div>

<div id="outline-container-h-FF8941A9-F30B-4F3F-9F6E-00B3614DA2A4" class="outline-3">
<h3 id="h-FF8941A9-F30B-4F3F-9F6E-00B3614DA2A4"><span class="section-number-3">2.3.</span> XPath 4.0 functions</h3>
<div class="outline-text-3" id="text-h-FF8941A9-F30B-4F3F-9F6E-00B3614DA2A4">
<p>
Based on offline conversations with MK, the order of functions in this
list has been adjusted with a goal of giving priority to things that
(a) should involve less discussion and (b) should involve less
editorial work.
</p>
</div>

<div id="outline-container-h-DC03723F-0797-4406-80C6-F8709C93D26A" class="outline-4">
<h4 id="h-DC03723F-0797-4406-80C6-F8709C93D26A"><span class="section-number-4">2.3.1.</span> fn:replicate</h4>
<div class="outline-text-4" id="text-h-DC03723F-0797-4406-80C6-F8709C93D26A">
<ul class="org-ul">
<li>See <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-replicate">https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-replicate</a></li>

<li>MK: I think this is already in the spec, we’re just looking for approval.</li>
<li>AR: Not picking on this function in particular, but in a general
sense, what is the use case for this? Where are the use cases
documented? In the case of this particular function, I wonder when
would I ever use it? The values it’s replicating are immutable, so
why not just stick it in a variable?</li>
<li>CG: One example is if you want to have 100 dashes. You can make that
with string-join and a loop, but this is more convenient.</li>
<li>MK: Or filling out blank entries in a table.</li>
<li>CMS: This could be regarded as syntatic sugar for the loop, but for
the implementation, it’s faster. I was assuming implementors would
manage the internals of this differently than a loop.</li>
<li>CG: It’s also something that comes from functional languages. A
chain of functions can, for example, just add an <code>fn:replicate</code> in the
middle without restructureing the query to get a loop.</li>
<li>DN: From my perspective, I would put this in a group of  “convenience
generator functions”. We could have many of them, and they’re very
useful.</li>
<li>AR: Having heard the use case, I understand the purpose of it, but I
had a hard time from just the specification. Are the use cases
documented somewhere?</li>
<li>MK: Usually in the GitHub issue that proposed it.</li>
<li>EP: Perhaps adding a more complicated example would help?</li>
<li>RD: I was going to say that too.</li>
<li>NW: We’re going through a backlog developed and spec’d over a couple
of years. When we get through this, I expect we’ll more consistently
be discussing specific issues where the use cases will be more
obvious.</li>
<li>CMS: I was going to propose to make an action to be sure the
relative GitHub issue has a fairly clear statement of the use case,
but maybe there isn’t one.
<ul class="org-ul">
<li>… It’s extremely useful if a group creates a use cases and design
document; I’d like to find a place to ensure that all of that is clear.</li>
<li>… Adding examples to the spec can be useful but it is seldom the only place</li>
</ul></li>
<li>DN: Do we have a replicate function for strings, what about a
similar function not for sequences but for arrays? And to address
what CMS said; I’ve been asked for use cases, and I’ve often
referred to databases for inspriation. Ideally we could have a
collection of documents and examples based on them. We could even
tie them into one of the online evaluation frameworks like Martin
Honnen’s <a href="https://martin-honnen.github.io/xpath31fiddle/">XPath Fiddle</a>.</li>
<li>RD: There’s an XQuery requirements and use cases document. Would it
make sense to write one for XPath and XSLT 4.0?</li>
<li>NW: Yes, but it’s a lot of work. Who’s going to do it?</li>
<li>MK: An explicit requirements and use cases document helps sometimes
in closing down work. Documenting the whole set of ideas can help
manage the open-endendess of a project like this.</li>
<li>AR: I’d be happy with the answer that there be more examples and use
cases in the GitHub issues and a link back to those.</li>

<li>MK: There’s a dependency here on being able to pass “3” as a
non-negative integer.</li>
</ul>

<p>
Some discussion of whether or not negative numbers make sense, but the
focus of MK’s remark is about what happens if we do leave it as it is.
</p>

<ul class="org-ul">
<li>NW: Leave it open?</li>
<li>MK: No, I was just observing the forward dependency.</li>
<li>CMS: Either we accept the downcasting proposal later or we’ll have to come back and change this?</li>
<li>MK: Yes. I’ll put a todo in the spec to point out this dependency.</li>
</ul>

<p>
Proposal: Accept <code>fn:replicate</code>
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-h-D92E3BB8-18B3-4FCB-B789-A6DEEA2CCBC9" class="outline-4">
<h4 id="h-D92E3BB8-18B3-4FCB-B789-A6DEEA2CCBC9"><span class="section-number-4">2.3.2.</span> The family of functions proposed as fn:range-from/fn:range-to and others</h4>
<div class="outline-text-4" id="text-h-D92E3BB8-18B3-4FCB-B789-A6DEEA2CCBC9">
<ul class="org-ul">
<li><code>fn:range-from</code>,  <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-range-from">https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-range-from</a></li>
<li><code>fn:range-to</code>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-range-to">https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-range-to</a></li>
<li><code>fn:items-before</code>, <code>fn:items-after</code>, <code>fn:items-from</code>, and <code>fn:items-until</code>
<ul class="org-ul">
<li>Unspecified, see <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#new-functions">https://qt4cg.org/specifications/xpath-functions-40/Overview.html#new-functions</a></li>
</ul></li>
<li>See also <a href="https://github.com/qt4cg/qtspecs/issues/149">#149</a>: functions for splitting a sequence (or array) based on predicate matching</li>
<li>Also related: <code>fn:slice</code>, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-slice">https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-slice</a></li>
</ul>

<p>
What approach should we persue in tackling this family of functions?
</p>

<ul class="org-ul">
<li>MK: These reflect various iterations of my thinking on this. I’m
welcoming feedback on exactly how this functionality shoud be
packaged. The use case is to deliver the part of a sequence before
or after some predicate: “find the paragraphs that precede the first
H2 element” or somehing more complex with attributes. That’s
remarkly hard to achive without higher order functions (HOF). But
now that we have HOF, it’s much easier. But that still leaves the
question of how to package it.
<ul class="org-ul">
<li>… Four functions: <code>fn:items-before</code>, <code>fn:items-after</code>, <code>fn:items-from</code>, and <code>fn:items-until</code> does it one way.</li>
<li>… Or we could do it with two functions with include/exclude options</li>
<li>… Or even with one function with options</li>
</ul></li>

<li>MK: Do we agree it’s useful?</li>
<li>AR: Am I right that these are convenience functions we could write
with window clauses?</li>
<li>MK: We don’t have window clauses in XPath and not having it in a
function makes it harder to use in functional ways.</li>
<li>CG: You also can’t interrupt a window clause; with the function you can shortcut the implementation.</li>
<li>CMS: FWIW, my first instinct is to think, if we merge them all into
a single function with parameters, then it turns into the equivalent
of the do/for/while loop constructs in some languages with more
different options and syntactic variations than I was ever able to
learn. So my gut instinct is: no, four is a good number!</li>
<li>NW: I agree; I’d be happy with four, and probably happy with two, but not one!</li>
<li>DN: I agree; I’d prefer ot have four functions. These are a
convienience. Because I’m not a native speaker of English; I have some trouble with the names.
I’d prefer <code>items-starting-with</code> and <code>items-ending-with</code>.</li>
<li>NW: That sounds reasonable to me</li>
<li>RD: In the notes, there’s a combined range-from and range-to function, so I
think that would make sense. To have a function that accepts both a
from and a to. It’s going to be clunkier to write it as two separate
founction calls.
<ul class="org-ul">
<li>… But as to the combinations, that would be better as separate functions</li>
</ul></li>
<li>MK: So you want range-between?</li>
<li>RD: Yeah.</li>
<li>MK: That has all sorts of complexities, such as what happens if the
end comes before the start. It’s not difficult to compose them is
the conclusion I came to.</li>
<li>CMS: I agree with RD, but that’s because I don’t tend to use the <code>!</code>
as a composition mechanism and maybe I should learn.</li>
<li>NW: I hear consensus for having them, and for having four functions.</li>
<li>CMS: What explicit names are we discussing?</li>
<li>NW: I think MK asked for advice. We should let him take this as advice.</li>
</ul>

<p>
ACTION QT4CG-005-04: MK to draft a concrete proposal for the range-related functions
</p>
</div>
</div>

<div id="outline-container-h-782DCD58-658F-44BC-8AD7-1EE8301228F1" class="outline-4">
<h4 id="h-782DCD58-658F-44BC-8AD7-1EE8301228F1"><span class="section-number-4">2.3.3.</span> fn:duplicate-values</h4>
<div class="outline-text-4" id="text-h-782DCD58-658F-44BC-8AD7-1EE8301228F1">
<ul class="org-ul">
<li>See <a href="https://github.com/qt4cg/qtspecs/issues/123">https://github.com/qt4cg/qtspecs/issues/123</a></li>

<li>CG: We talked about all-equal and all-different functions recently. We’ve noteced that there are
many cases where you want to know which values are the duplicates.
This is the opposiate of <code>fn:distinct-values</code>. You can do it with a
loop, but this provides a functional way to do it.</li>
<li>MK: I wonder, if you’re in an XML world where you’re looking for
element with, for example, duplicate attribute, if you might not care that the
surname “Kay” is duplicated, you might want to get the elements that
posses them. Rather like highest and lowest, putting in a function to
find the elements that have duplicate values might be more useful.</li>
<li>CMS: As long as there’s a relative straight-forward default, …</li>
<li>MK: The default can be the identity function, then you get exactly this.</li>
<li>RD: This would be adding a key as  third parameter like highest and lowest?</li>
</ul>

<p>
Some discussion of this idea. And a review of the comments on <a href="https://github.com/qt4cg/qtspecs/issues/123">the
issue</a>.
</p>

<ul class="org-ul">
<li>CMS: On 10 Oct, passing a comparison function comes up.</li>
<li>DN: I wanted to ask about this. From this description, I don’t see
any case where the function would rasie an error. That’s good. But
if we have a function, like the <code>eq</code> operator, for example, then it
could raise an error. That would have to be added to the
description. Definitely it would be good to provide a comparison
function.</li>
<li>CG: Maybe if you rewrote the function, the result would probably be
more complex. If you wanted to return the original values, it often
makes sense to group them in some way. It might make sense to return
a map or a sequence of arrays…</li>
<li>MK: That’s true, it does add to the complexity quite a bit.</li>
<li>CMS: I’m taken by Adams suggestion that these are variations of a
filter functions, should we start ehre?</li>
</ul>

<div class="CHAT" id="org06f24c9">
<p>
AR in Zoom chat:
</p>

<ul class="org-ul">
<li>AR: A lot of these functions to me seem to be basically variations
on a <code>fn:filter($sequence, $start-fn, $end-fn?)</code></li>
<li>AR: Would it be better to add the more generic
Higher-order-functions to our spec, and then perhaps add convenience
functions around these to FunctX or similar?</li>
</ul>

</div>

<p>
(Some discussion of whether these were, in fact, comments on duplicate
values or the previous topic.)
</p>

<ul class="org-ul">
<li>AR: I think CG’s function could also be implemented in terms of
<code>fn:filter</code>, if we had such a thing. You could have a predicate that
determines what “duplicate” means.</li>
<li>CG: That’s more like a grouping function. I’m not sure what you’d do with filter if it had duplicates.</li>
<li>MK: Filter only looks at items one at a time, where this is looking at groups of items.</li>
<li>RD: It’s like group by.</li>
<li>AR: But perhaps it still makes sense to think of these in terms of higher order functions that we need.</li>
<li>CG: A function like <code>fn:until</code>. I thought some of the items before
and items after functions could be implemented with that. In another
way the item functions are more generic. Like while/until in an
imperative langauge.</li>
<li>DN: Two things: because the issue of comparison functions is going
to come up again and again, maybe we need to think about moving the
question of a suitable comparison function higher in the agenda. The
other thing is that I’m not sure we should spend so much time
talking about possible implementations. This is about recognziing
the value of the function; I don’t think we should impose an
implementation. We should just accept well defined functions that we
agree are useful.</li>
<li>CMS: I agree with DN in principle, but I’m worried by one thing. To
take a concrete example, in XSLT 1.0, there’s a key construct and it
adds no functionality and doesn’t add any great deal of convenience.
So I never use it. I leave it in stylesheets that I’m editing or
updating. I only use it if I find a performance issue that I need to
resolve. So it only exists to allow implementations to make
something that’s commonly used run fast. We should avoid boxing in
or constraining implementors, but key doesn’t constrain them. As an
implementor, it’s obvious how to use it and why it’s valuable. As a
non-implementor, I don’t always find those things obvious, so I
wouldn’t want to prevent all discussion of implementations.</li>
<li>RD: I was just going to say, it can be useful in the discussion to
identify other higher level functions that we haven’t considered.</li>

<li>NW: We’re running out of time. It sounds like the question of
whether or not this function takes a comparision function as an
argument is something we can take to email or the issue comments.
We’ll pick up here next week.</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-h-BF9058D4-4FAD-428B-89FD-89907EF7F0E5" class="outline-2">
<h2 id="h-BF9058D4-4FAD-428B-89FD-89907EF7F0E5"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-h-BF9058D4-4FAD-428B-89FD-89907EF7F0E5">
<p>
None heard.
</p>
</div>
</div>
</div>
</body>
</html>
