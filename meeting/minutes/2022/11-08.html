<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 010 Minutes 2022-11-08</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 010 Minutes 2022-11-08</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/9]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[6/13]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a></li>
<li><a href="#next-meeting">1.3. Next meeting</a></li>
<li><a href="#approve-minutes">1.4. Approve minutes of the previous meeting</a></li>
<li><a href="#review-of-actions">1.5. Review of open action items</a></li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#conditionals">2.1. Extensions to conditional instructions</a>
<ul>
<li><a href="#then-else">2.1.1. Adding @then and @else attributes to xsl:if</a></li>
<li><a href="#select-when">2.1.2. Adding @select to xsl:when and xsl:otherwise</a></li>
<li><a href="#switch">2.1.3. xsl:switch instruction</a></li>
</ul>
</li>
<li><a href="#modes">2.2. Changes to modes</a>
<ul>
<li><a href="#modes-as">2.2.1. As attribute</a></li>
<li><a href="#modes-enclosed">2.2.2. Enclosed modes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="./11-15.html">at meeting 011</a> on 15 November 2022.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/9]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-002-10: BTW to coordinate some ideas about improving diversity in the group</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-007-05: NW to make an issue for Martin’s proposed ammendment to map:build</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-009-01: NW to coordinate with MK on an agenda for next week.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-009-02: NW to work with MK to make sure PR #197 is updated correctly</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-009-03: NW to investigate the relationship between PR #215 and <code>resolve-uri</code>.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-009-04: NW to review RFC 3896 wrt relative URIs</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-009-05: NW to fix the return type for <code>parse-uri</code>; consider using a record type.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-009-06: NW to add error tests for <code>parse-uri</code>.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-009-06: NW to make the query segments an array of maps.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-010-01: DN to create an issue for proposing an optional else in XPath/XQuery</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-010-02: MK to incorporate the suggestions made by MSM</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[6/13]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Regrets BTW, NW, JL, and CG.
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Anthony (Tony) Bufort (AB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="off"><code>[&#xa0;]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [0:15-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="off"><code>[&#xa0;]</code> John Lumley (JL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Ed Porter (EP).  <i>Scribe</i>.</li>
<li class="off"><code>[&#xa0;]</code> Liam Quin (LQ)</li>
<li class="off"><code>[&#xa0;]</code> Adam Retter</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (MSM). <i>Chair</i>.</li>
<li class="off"><code>[&#xa0;]</code> Bethan Tovey-Walsh (BTW)</li>
<li class="off"><code>[&#xa0;]</code> Norm Tovey-Walsh (NW)</li>
</ul>

<p>
Minutes scribed by EP, transcribed for the web by NW. Thank you, EP!
</p>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2022/11-08.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.3.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
The next meeting <a href="../../agenda/2022/11-15.html">is scheduled for Tuesday, 15 November</a>.
</p>

<p>
No regrets given.
</p>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.4.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2022/11-01.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-review-of-actions" class="outline-3">
<h3 id="review-of-actions"><span class="section-number-3">1.5.</span> Review of open action items</h3>
<div class="outline-text-3" id="text-review-of-actions">
<p>
Nothing reported.
</p>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-conditionals" class="outline-3">
<h3 id="conditionals"><span class="section-number-3">2.1.</span> Extensions to conditional instructions</h3>
<div class="outline-text-3" id="text-conditionals">
<p>
Approve extensions to conditional instructions described in <a href="https://qt4cg.org/specifications/xslt-40/Overview-diff.html#conditionals">chapter 8</a>
of the current draft.
</p>
</div>

<div id="outline-container-then-else" class="outline-4">
<h4 id="then-else"><span class="section-number-4">2.1.1.</span> Adding @then and @else attributes to xsl:if</h4>
<div class="outline-text-4" id="text-then-else">
<ul class="org-ul">
<li>RD: Second if example missing “=” for @then and @else.</li>
<li>DN: Trivial examples would be more succinctly achieved with XPath conditional expressions if/then/else.</li>
<li>MK: True, but when used with sequence constructors the utility of these attributes is more apparent.</li>
<li>DN: Else is optional?</li>
<li>MK: Yes, it defaults to an empty sequence.</li>
<li>DN: Could XPath also have an optional else?</li>
<li>MK: Reason for requirement in XPATH is dangling else/return condition.</li>
<li>MSM: Some part of me asks why not use &lt;xsl:choose&gt;, may be worth noting this could be written with XPath or choose.</li>
<li>RD: Flow control objects were already somewhat flexible (multiple ways to write the same logic).</li>
<li>DN: Could we define a default else in XPath to omit?</li>
<li>RD: Return could be part of flowr expression, which would complicate this issue.</li>
<li>MSM: This should be treated as a separate issue, DN, please propose this.</li>
</ul>

<p>
ACTION QT4CG-010-01: DN to create an issue for proposing an optional else in XPath/XQuery
</p>

<ul class="org-ul">
<li>MSM: Suggested revisions:
<ul class="org-ul">
<li>Syntax errors</li>
<li>Create more demonstrative example of its utility</li>
<li>Note to explain the several ways possible to express flow control</li>
</ul></li>
</ul>

<p>
ACTION QT4CG-010-02: MK to incorporate the suggestions made by MSM
</p>
</div>
</div>

<div id="outline-container-select-when" class="outline-4">
<h4 id="select-when"><span class="section-number-4">2.1.2.</span> Adding @select to xsl:when and xsl:otherwise</h4>
<div class="outline-text-4" id="text-select-when">
<ul class="org-ul">
<li>DN: Is there discussion of performance?</li>
<li>MK: Yes, there’s a brief discussion of expression evaluation.</li>
<li>MSM: Could there be confusion in the attribute name “select” in that
it somewhat suggests you’re changing the context before the test?
Should it be named “then” or should there be a note clarifying what
select does in this context.</li>
<li>MK: Agreed, there is a lack of symmetry.</li>
<li>RD: How about a “return” attribute, which better signals what the
attribute is doing? This mirrors “switch” in XPath syntax.</li>
<li>MSM: Should “then” be “select” on if in previous proposal?
<i>To be discussed when PR for xsl:if revisions are reviewed.</i></li>
</ul>

<p>
Proposal: Add @select to xsl:when and xsl:otherwise as proposed.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-switch" class="outline-4">
<h4 id="switch"><span class="section-number-4">2.1.3.</span> xsl:switch instruction</h4>
<div class="outline-text-4" id="text-switch">
<ul class="org-ul">
<li>RD: I like it. It improves alignment with XQuery.</li>
<li>DN: This example could be written as a Map/Key. Could you provide a better example?</li>
<li>MK: Second example is better?</li>
<li>MSM: Is this a hint to the compiler to do this with a branch table? Is this relevant to XSLT processing?</li>
<li>MK: Yes, it is a hint to the optimizer.</li>
</ul>

<p>
Proposal: Add an xsl:switch instruction as proposed.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>

<div id="outline-container-modes" class="outline-3">
<h3 id="modes"><span class="section-number-3">2.2.</span> Changes to modes</h3>
<div class="outline-text-3" id="text-modes">
<p>
Review changes to modes in <a href="https://qt4cg.org/specifications/xslt-40/Overview-diff.html#modes">§6.7</a>:
</p>
</div>

<div id="outline-container-modes-as" class="outline-4">
<h4 id="modes-as"><span class="section-number-4">2.2.1.</span> As attribute</h4>
<div class="outline-text-4" id="text-modes-as">
<p>
The <code>as</code> declares what will be returned by a mode, in case a mode
returns a boolean or maps, for example (detail is in <a href="https://qt4cg.org/specifications/xslt-40/Overview-diff.html#mode-result-type">§6.7.4</a>).
</p>

<ul class="org-ul">
<li>JK: Is this describing the aggregate of the mode, or individual templates?</li>
<li>MK: This describes what the individual templates return.</li>
<li>JK: Generally, I think <code>@as</code> describes aggregate.</li>
<li>DN: What happens if there are <code>@as</code> attributes that are in the mode?</li>
<li>MK: <code>@as</code> on templates within enclosing mode must be subtype of parent mode.</li>
<li>DN: So this should generate errors if they do not match?</li>
<li>MK: Yes.</li>
<li>DN: Can there be an example of this?</li>
<li>MK: Yes.</li>
<li>RD: This is useful in that it ensures all your templates are returning expected types.</li>
<li>MSM: Move on to Enclosed modes topic.</li>
</ul>
</div>
</div>

<div id="outline-container-modes-enclosed" class="outline-4">
<h4 id="modes-enclosed"><span class="section-number-4">2.2.2.</span> Enclosed modes</h4>
<div class="outline-text-4" id="text-modes-enclosed">
<p>
Addition of content as a set of template rules within a mode element (detail is in <a href="https://qt4cg.org/specifications/xslt-40/Overview-diff.html#enclosed-modes">§6.7.5</a>).
</p>

<ul class="org-ul">
<li>MK: Primarily an organizational nicety, to confirm you’re looking at all the templates in a mode.</li>
<li>MSM: This makes it much easier not to forget setting a mode on a template.</li>
<li>MK: Yes! We’ve all omitted modes accidentally.</li>
<li>DN: Check verbiage “containing” vs. “enclosing”. Make consistent throughout.</li>
<li>MSM: Enclosing mode is most understandable.</li>
<li>MSM: Clarification, overriding does not require the override to be in an enclosing mode?</li>
<li>MK: Yes, that’s not even possible.</li>
<li>EP: Note that you have TODOs in your doc.</li>
<li>RD: Can you inherit modes?</li>
<li>MK: I can see potential there. I’ve used a hierarchy of modes previously, based on the role attribute.</li>
<li>RD: I’ve had stylesheets that also cascade roles.</li>
</ul>

<p>
Discussion to continue. End of meeting reached.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None reported.
</p>
</div>
</div>
</div>
</body>
</html>
