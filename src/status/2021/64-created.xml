<item>
   <title>Issue #64 created</title>
   <pubDate>2021-03-12T08:55:43Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/64</link>
   <guid>https://qt4cg.org/@qt4cg/2021/#created-64</guid>
   <description>&lt;div&gt;&lt;p&gt;Specify optional parameters to create bounded variadic functions&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The current Editor's Draft for XPath and XQuery define a &lt;code&gt;%variadic("bounded")&lt;/code&gt; function type, but does not define a syntax for specifying these.&lt;/p&gt;
&lt;h2&gt;Grammar&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;ParamList ::= RequiredParamList ( "," OptionalParamList )?
RequiredParamList ::= Param ("," Param)*
Param ::= "$" EQName TypeDeclaration?
OptionalParamList ::= OptionalParam ("," OptionalParam)*
OptionalParam ::= Param ":=" ExprSingle
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Note:&lt;/p&gt;
&lt;p&gt;I've followed the structure of positional and keyword arguments here, so the optional parameters are only valid at the end of the function. If it is decided that optional parameters can be declared anywhere in the parameter list, the grammar simplifies to:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ParamList ::= Param ("," Param)*
Param ::= "$" EQName TypeDeclaration? ( ":=" ExprSingle )?
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Semantics&lt;/h2&gt;
&lt;p&gt;[Definition: a parameter is an &lt;em&gt;optional parameter&lt;/em&gt; if it has a default value specified using the &lt;code&gt;:= ExprSingle&lt;/code&gt; syntax.] Optional parameters affect the value of R (the number of parameters that do not have a default value) in the &lt;em&gt;4.4.1 Static Functions&lt;/em&gt; section.&lt;/p&gt;
&lt;h2&gt;Notes&lt;/h2&gt;
&lt;p&gt;There are open questions on what to allow in the default value expression. Specifically, how to support things like the context item for functions such as &lt;code&gt;fn:data#0&lt;/code&gt; that use the context item if not specified (e.g. when used at the end of a path expression).&lt;/p&gt;
&lt;p&gt;An investigation should be done on the standard functions and vendor built-in functions to see what values they take as defaults.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
