<item>
   <title>Issue #464 created</title>
   <pubDate>2023-04-29T21:01:45Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/464</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-464</guid>
   <description>&lt;div&gt;&lt;p&gt;Serialization sequence normalization step 3 needs clarification&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The specifications currently read:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If the item-separator serialization parameter is absent, then for each subsequence of adjacent strings in S2, copy a single string to the new sequence equal to the values of the strings in the subsequence concatenated in order, each separated by a single space. Copy all other items to the new sequence. Otherwise, copy each item in S2 to the new sequence, inserting between each pair of items a string whose value is equal to the value of the item-separator parameter. The new sequence is S3.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As written ("If...then.... Otherwise...."), this implies that the process whereby a block of adjacent strings are joined into a single string is performed only when the item separator parameter is absent. I.e., if the item-separator parameter is not absent, it will not be used to string-join adjacent groups of strings. Perhaps that is as intended, but I want to make sure.&lt;/p&gt;
&lt;p&gt;Also, as written, this implies that when the parameter is absent, the sequence begins by finding all subsequences of adjacent strings, performing concatenation. Then all non-strings are added to the sequence. That seems wrong, because it appears to advise the processor to rearrange the sequence of input items.&lt;/p&gt;
&lt;p&gt;I propose a revision along these lines:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Copy each item in S2 to a new sequence. If a given pair of adjacent items are both strings, then separate them with a string whose value is equal to the value of the item-separator parameter or is a single space if the item-separator parameter is absent. If a given pair of adjacent items are not both strings, insert between each pair of items a string whose value is equal to the value of the item-separator parameter. Once this is finished, take each adjacent group of strings and concatenate them into a single string. The new sequence is S3.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My revision is based upon what I imagine happens, but implementers will know better than I.&lt;/p&gt;
&lt;p&gt;I am working on some editorial touch-ups of the Serialization specifications, and can incorporate comments/suggestions made in this thread in that larger enterprise.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
