<item>
   <title>Issue #399 created</title>
   <pubDate>2023-03-15T03:31:46Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/399</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-399</guid>
   <description>&lt;div&gt;&lt;p&gt;fn:deep-equal: Using Multilevel Hierarchy and Abstraction when designing and specifying complex functions&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Whenever a function is too-complex, its precise and clear specification becomes problematic and the complexity results in huge volume of text that is difficult to fathom, understand and the correctness of whose meaning becomes less and less obvious.&lt;/p&gt;
&lt;p&gt;Solving this problem would benefit all groups of readers, be they future implementors or just curious XPath enthusiasts.&lt;/p&gt;
&lt;p&gt;Here I present one well-known and successfully tried in practice solution, which the Romans summarized in the phrase: "&lt;strong&gt;&lt;em&gt;Divide et Impera&lt;/em&gt;&lt;/strong&gt;" ("Divide and conquer")&lt;/p&gt;
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Philip-ii-of-macedon.jpg/330px-Philip-ii-of-macedon.jpg"/&gt;
&lt;p&gt;Below is one possible splitting of the functionality of &lt;strong&gt;&lt;a href="https://qt4cg.org/pr/395/xpath-functions-40/autodiff.html#func-deep-equal"&gt;fn:deep-equal&lt;/a&gt;&lt;/strong&gt; into different smaller and simpler functions on 5 levels, each level possibly dispatching to a function on  another level. The intermediate-level functions each have their own value and could be used independently of &lt;strong&gt;fn:deep-equal&lt;/strong&gt; and of each other. Even though there is the possibility of recursion, we can still get a simple picture and immediate understanding of this functionality, just playing with the following collapsible/expandable representation (click on the corresponding arrow), which fits on a single screen:&lt;/p&gt;
&lt;h2&gt;(writing the full specification from this animated picture is left as an exercise for the reader ðŸ˜‚&lt;/h2&gt;
&lt;details&gt;
    &lt;summary&gt;deep-equal-sequence&lt;/summary&gt;
	  &lt;blockquote&gt;
          &lt;details&gt;
				 &lt;summary&gt;deep-equal-item&lt;/summary&gt;
					  &lt;blockquote&gt;
	  					  &lt;p&gt;deep-equal-atomic&lt;/p&gt;
						  &lt;details&gt;
								&lt;summary&gt;deep-equal-map&lt;/summary&gt;
								  &lt;blockquote&gt;
										  &lt;p&gt;deep-equal-atomic&lt;/p&gt;
										  &lt;p&gt;deep-equal-sequence&lt;/p&gt;
								  &lt;/blockquote&gt;
						  &lt;/details&gt;
						  &lt;details&gt;
							  &lt;summary&gt;deep-equal-array&lt;/summary&gt;
								  &lt;blockquote&gt;
										  &lt;p&gt;deep-equal-sequence&lt;/p&gt;
								  &lt;/blockquote&gt;
						  &lt;/details&gt;
						  &lt;details&gt;
							  &lt;summary&gt;deep-equal-node&lt;/summary&gt;
								  &lt;blockquote&gt;
										  &lt;p&gt;deep-equal-document&lt;/p&gt;
										  &lt;details&gt;										  
											  &lt;summary&gt;deep-equal-element&lt;/summary&gt;
												  &lt;blockquote&gt;
													  &lt;p&gt;deep-equal-attribute&lt;/p&gt;
													  &lt;p&gt;deep-equal-NS&lt;/p&gt;
													  &lt;p&gt;deep-equal-PI&lt;/p&gt;
													  &lt;p&gt;deep-equal-comment&lt;/p&gt;
													  &lt;p&gt;deep-equal-text-node&lt;/p&gt;
												  &lt;/blockquote&gt;
										  &lt;/details&gt;										  
										  &lt;p&gt;deep-equal-attribute&lt;/p&gt;
										  &lt;p&gt;deep-equal-NS&lt;/p&gt;
										  &lt;p&gt;deep-equal-PI&lt;/p&gt;
										  &lt;p&gt;deep-equal-comment&lt;/p&gt;
										  &lt;p&gt;deep-equal-text-node&lt;/p&gt;
								  &lt;/blockquote&gt;
						  &lt;/details&gt;
					  &lt;/blockquote&gt;
		  &lt;/details&gt;
	  &lt;/blockquote&gt;
  &lt;/details&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
