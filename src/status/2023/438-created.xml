<item>
   <title>Issue #438 created</title>
   <pubDate>2023-04-15T08:56:18Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/438</link>
   <guid>https://qt4cg.org/@qt4cg/2023/#created-438</guid>
   <description>&lt;div&gt;&lt;p&gt;What are the "non-whitespace control characters"?&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;In Section 5, XML Serialization, we find:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A consequence of this rule is that certain characters MUST be output as character references, to ensure that they survive the round trip through serialization and parsing. Specifically, CR, NEL and LINE SEPARATOR characters in text nodes MUST be output respectively as "&amp;amp;#xD;", "&amp;amp;#x85;", and "&amp;amp;#x2028;", or their equivalents; while CR, NL, TAB, NEL and LINE SEPARATOR characters in attribute nodes MUST be output respectively as "&amp;amp;#xD;", "&amp;amp;#xA;", "&amp;amp;#x9;", "&amp;amp;#x85;", and "&amp;amp;#x2028;", or their equivalents. In addition, the non-whitespace control characters #x1 through #x1F and #x7F through #x9F in text nodes and attribute nodes MUST be output as character references.
(The reference to "non-whitespace control characters" appears in a few other places as well, but for basically the same purpose.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But what &lt;strong&gt;are&lt;/strong&gt; the "non-whitespace control characters"? The spec doesn't say. I think it means &lt;em&gt;all&lt;/em&gt; of the C0 and C1 control characters except CR, NL, TAB, and NEL. The fact that vertical tab and line feed might be considered "white space" doesn't really matter anyway since none of the other C0 control characters are allowed in XML 1.0 anyway (encoded or otherwise).&lt;/p&gt;
&lt;p&gt;XML 1.0 doesn't actually care about the C1 control characters. There's no reason to encode them, but it does no harm, I suppose. You'd have to encode the C0 and C1 control characters for an XML 1.1 parser, but none of those exist.&lt;/p&gt;
&lt;p&gt;I wonder if it might be a little clearer to say&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A consequence of this rule is that certain characters MUST be output as character references, to ensure that they survive the round trip through serialization and parsing. Specifically, CR, NEL and LINE SEPARATOR characters in text nodes MUST be output respectively as "&amp;amp;#xD;", "&amp;amp;#x85;", and "&amp;amp;#x2028;", or their equivalents; while CR, NL, TAB, NEL and LINE SEPARATOR characters in attribute nodes MUST be output respectively as "&amp;amp;#xD;", "&amp;amp;#xA;", "&amp;amp;#x9;", "&amp;amp;#x85;", and "&amp;amp;#x2028;", or their equivalents. In addition, the other control characters #x1 through #x1F (except  #x9, #xA, and #xD) and #x7F through #x9F (except #x85) in text nodes and attribute nodes MUST be output as character references.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
