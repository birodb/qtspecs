<item>
   <title>Issue #109 created</title>
   <pubDate>2022-01-20T20:40:36Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/109</link>
   <guid>https://qt4cg.org/@qt4cg/2022/#created-109</guid>
   <description>&lt;div&gt;&lt;p&gt;[xslt4] xsl:note for structured documentation&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;I propose that we add an element &lt;code&gt;xsl:note&lt;/code&gt; whose intended use is for structured documentation.&lt;/p&gt;
&lt;p&gt;The element may appear anywhere and may have any attributes and content, including elements in the XSLT namespace. Any &lt;code&gt;xsl:note&lt;/code&gt; elements in the stylesheet are stripped (together with their attributes and descendants) at the same time as comments and processing instructions are stripped. (Rules such as "xsl:param must come first" or "xsl:apply-imports must be empty" thus apply to the stylesheet AFTER &lt;code&gt;xsl:note&lt;/code&gt; elements are stripped.)&lt;/p&gt;
&lt;p&gt;Traditionally, structured documentation comments have been written in a third-party namespace. This approach has two disadvantages:&lt;/p&gt;
&lt;p&gt;(a) they can only appear in a limited number of places (typically as children of &lt;code&gt;xsl:stylesheet&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;(b) they require an extra namespace to appear on the &lt;code&gt;xsl:stylesheet&lt;/code&gt; element, and this namespace has semantics that affect the stylesheet execution. It even needs to be carried through to run-time, in case someone (for example) tries to cast a dynamic string to a QName.&lt;/p&gt;
&lt;p&gt;The spec would say very little about &lt;code&gt;xsl:note&lt;/code&gt;, except that it is permitted and ignored by the XSLT processor. It might offer some usage suggestions:&lt;/p&gt;
&lt;p&gt;(a) an &lt;code&gt;xsl:note&lt;/code&gt; appearing as the first child of &lt;code&gt;xsl:package&lt;/code&gt; or &lt;code&gt;xsl:stylesheet&lt;/code&gt; should be taken as pertaining to the package or stylesheet as a whole; an &lt;code&gt;xsl:note&lt;/code&gt; appearing anywhere else should be taken as pertaining to the first following sibling element that is not an xsl:note (if there is one)&lt;/p&gt;
&lt;p&gt;(b) third party software that takes account of &lt;code&gt;xsl:note&lt;/code&gt; (for example, a tool that generates documentation) should only recognise xsl:note elements that specify target=XXX where XXX is a string that they decide upon.&lt;/p&gt;
&lt;p&gt;(c) XSLT processors are discouraged from using xsl:note elements to modify the behaviour of the processor in any way, for example in ways that change the output or the performance; they are expressly not allowed to use xsl:note elements to trigger non-conformant behaviour.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
