<item>
   <title>Issue #235 created</title>
   <pubDate>2022-11-10T09:36:27Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/235</link>
   <guid>https://qt4cg.org/@qt4cg/2022/#created-235</guid>
   <description>&lt;div&gt;&lt;p&gt;Add multiple=true() option to fn:parse-json and fn:json-doc&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;It is common practice (though not, I believe, covered by any standard) to have files that contain multiple JSON objects. Often these will be arranged one per line, as in our own qt3tests use case R31 at https://github.com/w3c/qt3tests/blob/master/app/UseCaseR31/sales.json . In that example, the file can be parsed using &lt;code&gt;unparsed-text-lines()!parse-json()&lt;/code&gt;. But in the more general case, where each object may itself be multi-line, there's no easy way of handling this.&lt;/p&gt;
&lt;p&gt;I propose an option multiple=true() on &lt;code&gt;fn:parse-json&lt;/code&gt; and &lt;code&gt;fn:json-doc&lt;/code&gt; that enables parsing of an input containing multiple (zero or more) concatenated JSON texts. When this option is present, the result will always be delivered as an array, containing one member for each JSON text in the input. The wrapper array will be present even if the number of JSON texts in the input is zero or one.&lt;/p&gt;
&lt;p&gt;If a JSON text ends with a letter or digit and the next JSON text starts with a letter or digit then they must be separated by whitespace.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
