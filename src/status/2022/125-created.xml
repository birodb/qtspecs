<item>
   <title>Issue #125 created</title>
   <pubDate>2022-08-15T10:02:26Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/125</link>
   <guid>https://qt4cg.org/@qt4cg/2022/#created-125</guid>
   <description>&lt;div&gt;&lt;p&gt;array:partition → fn:partition: empty results; examples&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;1. I think that an empty sequence should be returned if &lt;code&gt;array:partition&lt;/code&gt; is invoked with an empty array. See e.g. &lt;code&gt;fn:tokenize('')&lt;/code&gt;, which also returns an empty sequence and no zero-character string.&lt;/p&gt;
&lt;p&gt;2. The last two example queries need to be revised, e.g. as follows:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;array:partition(
  tokenize("In the beginning was the word"),
  function($previous, $current) { sum(($previous, $current) ! string-length()) gt 10 }
)

array:partition(
  (1, 2, 3, 6, 7, 9, 10),
  function($seq, $new) { not($new = $seq[last()] + 1) }
)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Maybe an affirming &lt;code&gt;$add-when&lt;/code&gt; function is more intuitive than &lt;code&gt;$break-when&lt;/code&gt;, in particular for function bodies with sequence operations and general comparisons.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
