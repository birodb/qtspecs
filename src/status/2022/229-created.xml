<item>
   <title>Issue #229 created</title>
   <pubDate>2022-10-31T19:02:26Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/229</link>
   <guid>https://qt4cg.org/@qt4cg/2022/#created-229</guid>
   <description>&lt;div&gt;&lt;p&gt;Proposal: Add the missing functions for arrays: array:exists() and array:empty()&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The functions over sequences: &lt;code&gt;fn:exists&lt;/code&gt; and &lt;code&gt;fn:empty&lt;/code&gt; are amongst the most useful and well-understood sequence functions.&lt;/p&gt;
&lt;p&gt;In case we need to know whether or not an array has at least one member, or none, these function cannot help us:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://user-images.githubusercontent.com/10605892/199085022-c5466814-95e9-484e-8315-82159c8724dc.png" alt="image"/&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;To fill this gap, these two functions are proposed:&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;&lt;em&gt;&lt;code&gt;array:exists&lt;/code&gt;&lt;/em&gt;&lt;/strong&gt;:&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Signature&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xq"&gt;array:exists($arg as array(*)) as xs:boolean
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Properties&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This function is &lt;a href="https://www.w3.org/TR/xpath-functions-31/#dt-deterministic"&gt;·deterministic·&lt;/a&gt;, &lt;a href="https://www.w3.org/TR/xpath-functions-31/#dt-context-independent"&gt;·context-independent·&lt;/a&gt;, and &lt;a href="https://www.w3.org/TR/xpath-functions-31/#dt-focus-independent"&gt;·focus-independent·&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Rules&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If the value of &lt;code&gt;$arg&lt;/code&gt; is a non-empty array, the function returns &lt;code&gt;true()&lt;/code&gt;; otherwise, the function returns &lt;code&gt;false()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;array:exists(array:remove(["hello"], 1)&lt;/code&gt; returns &lt;code&gt;false()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;aray:exists(array:remove(["hello", "world"], 1)&lt;/code&gt; returns &lt;code&gt;true()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;aray:exists([])&lt;/code&gt; returns &lt;code&gt;false()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;aray:exists([ () ])&lt;/code&gt; returns &lt;code&gt;true()&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;&lt;em&gt;&lt;code&gt;array:empty&lt;/code&gt;&lt;/em&gt;&lt;/strong&gt;:&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Signature&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xq"&gt;
array:empty($arg as array(*)) as xs:boolean
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Properties&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This function is &lt;a href="https://www.w3.org/TR/xpath-functions-31/#dt-deterministic"&gt;·deterministic·&lt;/a&gt;, &lt;a href="https://www.w3.org/TR/xpath-functions-31/#dt-context-independent"&gt;·context-independent·&lt;/a&gt;, and &lt;a href="https://www.w3.org/TR/xpath-functions-31/#dt-focus-independent"&gt;·focus-independent·&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Rules&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If the value of &lt;code&gt;$arg&lt;/code&gt; is the empty array, the function returns &lt;code&gt;true()&lt;/code&gt;; otherwise, the function returns &lt;code&gt;false()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;array:empty(array:remove(["hello"], 1)&lt;/code&gt; returns &lt;code&gt;true()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;aray:empty(array:remove(["hello", "world"], 1)&lt;/code&gt; returns &lt;code&gt;false()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;aray:empty([])&lt;/code&gt; returns &lt;code&gt;true()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The expression &lt;code&gt;aray:empty([ () ])&lt;/code&gt; returns &lt;code&gt;false()&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
