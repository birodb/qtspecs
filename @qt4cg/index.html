<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a></p><div class="toots">
<div class="toot" id="closed-355"><h2>Issue #355 closed<span class="toot-id"> #closed-355</span></h2><div class="pubdate">07 Mar at 17:19:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/355">https://github.com/qt4cg/qtspecs/pull/355</a></div><p>Action QT4CG-022-02 - add to imp-def-feature appendix</p></div>
<div class="toot" id="closed-370"><h2>Issue #370 closed<span class="toot-id"> #closed-370</span></h2><div class="pubdate">07 Mar at 17:19:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/370">https://github.com/qt4cg/qtspecs/issues/370</a></div><p>Bump XSLT version</p></div>
<div class="toot" id="closed-363"><h2>Issue #363 closed<span class="toot-id"> #closed-363</span></h2><div class="pubdate">07 Mar at 17:18:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/363">https://github.com/qt4cg/qtspecs/pull/363</a></div><p>Fix issue #345 - missing rules for type matching</p></div>
<div class="toot" id="closed-364"><h2>Issue #364 closed<span class="toot-id"> #closed-364</span></h2><div class="pubdate">07 Mar at 17:18:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/364">https://github.com/qt4cg/qtspecs/pull/364</a></div><p>Generalize switch expressions in XQuery (issue #328)</p></div>
<div class="toot" id="closed-371"><h2>Issue #371 closed<span class="toot-id"> #closed-371</span></h2><div class="pubdate">07 Mar at 17:17:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/371">https://github.com/qt4cg/qtspecs/pull/371</a></div><p>Issue 370: forwards and backwards compatibility for 4.0</p></div>
<div class="toot" id="minutes-03-07"><h2>QT4 CG meeting 025 draft minutes<span class="toot-id"> #minutes-03-07</span></h2><div class="pubdate">07 Mar at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/03-07">https://qt4cg.org/meeting/minutes/2023/03-07</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-384"><h2>Issue #384 created<span class="toot-id"> #created-384</span></h2><div class="pubdate">06 Mar at 16:24:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/384">https://github.com/qt4cg/qtspecs/issues/384</a></div><details><summary>Definition of "effective value" in XSLT</summary><div class="markup"><p>The term "effective value" is defined in XSLT with a rather narrow definition in the context of attribute value templates. The term is used throughout the spec (sometimes hyperlinked, sometimes not) in a much more general sense, for example the "effective value" of an attribute is the explicit value given to the attribute, or the value after basic normalization such as whitespace stripping, or the default value if the attribute is not present.</p>
<p>This affects the determination of the correct result for test merge-021, where it is a little ambiguous whether two <code>xsl:merge-source/@order</code> attribute have the same "effective value" given that one is defaulted.</p>
</div></details></div>
<div class="toot" id="agenda-03-07"><h2>QT4 CG meeting 025 draft agenda<span class="toot-id"> #agenda-03-07</span></h2><div class="pubdate">05 Mar at 11:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/03-07">https://qt4cg.org/meeting/agenda/2023/03-07</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-383"><h2>Issue #383 created<span class="toot-id"> #created-383</span></h2><div class="pubdate">28 Feb at 17:21:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/383">https://github.com/qt4cg/qtspecs/issues/383</a></div><details><summary>Improve the specification of unordered comparisons in deep-equal</summary><div class="markup"><p>At <a href="https://qt4cg.org/meeting/minutes/2023/02-28.html">meeting 024</a> where PR https://github.com/qt4cg/qtspecs/pull/320 was accepted, there remained an open question of how best to specify that in some circumstances the comparisons should be made without regard to the order of (some) children.</p>
<p>Can the name of the option be improved?</p>
<p>Should the option support wildcard names?</p>
</div></details></div>
<div class="toot" id="created-382"><h2>Issue #382 created<span class="toot-id"> #created-382</span></h2><div class="pubdate">28 Feb at 17:19:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/382">https://github.com/qt4cg/qtspecs/issues/382</a></div><details><summary>Improve whitespace handling in deep-equal</summary><div class="markup"><p>At <a href="https://qt4cg.org/meeting/minutes/2023/02-28.html">meeting 024</a> where PR https://github.com/qt4cg/qtspecs/pull/320 was accepted, there remained an open question of how to deal with whitespace.</p>
<p>The current options can be seen as having somewhat overlapping domains. Can this be improved?</p>
</div></details></div>
<div class="toot" id="created-381"><h2>Issue #381 created<span class="toot-id"> #created-381</span></h2><div class="pubdate">28 Feb at 17:18:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/381">https://github.com/qt4cg/qtspecs/issues/381</a></div><details><summary>Deep-equal comparisons without errors</summary><div class="markup"><p>At <a href="https://qt4cg.org/meeting/minutes/2023/02-28.html">meeting 024</a> where PR #320 was accepted, there remained an open question of how to deal with errors.</p>
<p>On the one hand, in order for <code>fn:deep-equal</code> to be most easily used as a comparison function in the many contexts where a comparison function is required, it would be best if it simply returned <code>false()</code> rather than raising an error when incomparably items are encountered.</p>
<p>On the other hand, making "return false()" the default will mean that it is possible to construct items that are not equal to themselves, which will certainly violate the expectations of some users.</p>
<p>This conflict needs to be resolved somehow.</p>
</div></details></div>
<div class="toot" id="minutes-02-28"><h2>QT4 CG meeting 024 draft minutes<span class="toot-id"> #minutes-02-28</span></h2><div class="pubdate">28 Feb at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/02-28">https://qt4cg.org/meeting/minutes/2023/02-28</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-377"><h2>Issue #377 closed<span class="toot-id"> #closed-377</span></h2><div class="pubdate">28 Feb at 14:49:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/377">https://github.com/qt4cg/qtspecs/issues/377</a></div><p>Published XQuery 4.0 spec renders XML predefined entities instead of literal characters</p></div>
<div class="toot" id="closed-380"><h2>Issue #380 closed<span class="toot-id"> #closed-380</span></h2><div class="pubdate">28 Feb at 14:49:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/380">https://github.com/qt4cg/qtspecs/pull/380</a></div><p>Removed CDATA sections around markup</p></div>
<div class="toot" id="created-380"><h2>Pull request #380 created<span class="toot-id"> #created-380</span></h2><div class="pubdate">28 Feb at 14:23:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/380">https://github.com/qt4cg/qtspecs/pull/380</a></div><details><summary>Removed CDATA sections around markup</summary><div class="markup"><p>Fix #377</p>
<p>I took a minimal approach here. I've removed CDATA sections where the section contained an <code>&amp;</code> but not a <code>&lt;</code>.</p>
<ol>
<li>If the section contains <code>&lt;</code>, then it's  (presumably) necessary to escape the markup</li>
<li>If the section <em>does not</em> contain an <code>&amp;</code>, then it's irrelevant. But not removing it limits the number of places changed by the script</li>
</ol>
</div></details></div>
<div class="toot" id="created-379"><h2>Issue #379 created<span class="toot-id"> #created-379</span></h2><div class="pubdate">28 Feb at 12:09:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/379">https://github.com/qt4cg/qtspecs/issues/379</a></div><details><summary>Namespace handling in parse-html</summary><div class="markup"><p>The HTML5/"Living Standard" specification has two modes when it comes to handling namespaces:</p>
<ol>
<li>For XHTML content the document is parsed as XML with full namespace support.</li>
<li>For HTML content, it has pseudo-namespace support.</li>
</ol>
<p>For example, the HTML parsing algorithm:</p>
<ol>
<li>places html, svg, and mathml elements in their corresponding namespaces.</li>
<li>allows certain element/attribute tag names (e.g. <code>xlink:href</code>) to be parsed as QNames.</li>
</ol>
<p>From the XSLT/XQuery perspective, this affects the data model. Specifically, how to model and specify the node-names and the set of namespaces associated with a given element node.</p>
</div></details></div>
<div class="toot" id="created-378"><h2>Pull request #378 created<span class="toot-id"> #created-378</span></h2><div class="pubdate">28 Feb at 08:55:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/378">https://github.com/qt4cg/qtspecs/pull/378</a></div><details><summary>Update the localName and unparsed entity reference notes for parse-html</summary><div class="markup"><p>This PR applies the following changes:</p>
<ul>
<li>[x] QT4CG-021-03: RD to change must to will in DOM notes about lowercase</li>
<li>[x] QT4CG-021-04: RD to revise and move the note about unrecognized entities</li>
</ul>
</div></details></div>
<div class="toot" id="created-377"><h2>Issue #377 created<span class="toot-id"> #created-377</span></h2><div class="pubdate">28 Feb at 07:22:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/377">https://github.com/qt4cg/qtspecs/issues/377</a></div><details><summary>Published XQuery 4.0 spec renders XML predefined entities instead of literal characters</summary><div class="markup"><p>When rendered in the browser, XML examples in the <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html">XQuery 4.0 specification</a> show, for example, '<code>&amp;lt;</code>' instead of '<code>&lt;</code>':</p>
<p><img src="https://user-images.githubusercontent.com/2734234/221782371-1d119a80-72b3-4ede-b9c9-0b2b464533c0.png" alt="Screenshot 2023-02-28 at 07 21 49"></p>
</div></details></div>
<div class="toot" id="created-376"><h2>Issue #376 created<span class="toot-id"> #created-376</span></h2><div class="pubdate">27 Feb at 17:16:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/376">https://github.com/qt4cg/qtspecs/issues/376</a></div><details><summary>add documentation prefix attribute to xsl:stylesheet</summary><div class="markup"><p>Although the addition of xsl:note is very welcome, i had been hoping for something like the xsl:stylesheet attribute extension-element-prefixes, e.g. ignored-element-prefixes.</p>
<p>The specification would be something like,
Elements and attributes associated with an ignored element prefix are not treated as direct constructors, and are removed when the stylesheet is compiled. For such an element, this is equivalent to having an xsl:use-when attribute with value false on the element; for attributes, they are simply discarded along with their value.</p>
<p>It is not an error for a prefix to be listed both as an ignored element prefix and as an extension element prefix; the result is implementation dependent in this case, but MUST not result in neither an extension being invoked nor the element or attribute being ignored.</p>
<p>Ignored elements may appear anywhere in the input tree, and ignored attributes may appear on any element.</p>
<p>Example:</p>
<pre><code>&lt;xsl:template match="city/park" css:module="main"&gt;
  &lt;css:rule&gt;
    color: green;
    trees: tall;
  &lt;/xsl:rule&gt;
  &lt;div class="park"&gt;
    &lt;xsl:apply-templates /&gt;
  &lt;/div&gt;
&lt;/xsl:template&gt;
</code></pre>
</div></details></div>
<div class="toot" id="created-375"><h2>Pull request #375 created<span class="toot-id"> #created-375</span></h2><div class="pubdate">27 Feb at 17:03:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/375">https://github.com/qt4cg/qtspecs/pull/375</a></div><details><summary>Context for default parameter values</summary><div class="markup"><p>This is an attempt to resolve issue #256 by providing details of the static and dynamic context for evaluating default parameter values, including providing a mechanism for accessing parts of the static and dynamic context of the caller.</p>
<p>If this PR is accepted we will need to follow up with (a) similar changes to XSLT, and (b) use of the new notation in the signatures of standard functions and operators that have context-dependent default values for parameters.</p>
<p>Note that the PR also breaks up the rather unwieldy sections for Function Declarations and Variable Declarations into more manageable subsections, which has involved some re-ordering; some of the change marking may therefore be spurious.</p>
</div></details></div>
<div class="toot" id="created-374"><h2>Issue #374 created<span class="toot-id"> #created-374</span></h2><div class="pubdate">27 Feb at 10:11:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/374">https://github.com/qt4cg/qtspecs/issues/374</a></div><details><summary>Can't view the XSD for XSLT in the browser</summary><div class="markup"><p>If you attempt to open <code>https://qt4cg.org/specifications/xslt-40/schema-for-xslt40.xsd</code> in the browser (in Firefox), you'll get:</p>
<pre><code>Error loading stylesheet: An unknown error has occurred (805303f4)
http://www.w3.org/2008/09/xsd.xsl
</code></pre>
<p>In a Chrome-derived browser I get a blank screen on which even the context menu doesn't work. Digging about in the inspect window leads me to</p>
<pre><code>Unsafe attempt to load URL http://www.w3.org/2008/09/xsd.xsl from frame with URL
https://qt4cg.org/specifications/xslt-40/schema-for-xslt40.xsd. Domains, protocols and ports must match.
</code></pre>
<p>I conclude that the problem is trying to load the XSL for XSD from a different domain. Boo. I guess we should copy those stylesheets to <code>qt4cg.org</code>, or remove the stylesheet PI, or ignore the whole thing on the assumption that we'll eventually publish these specifications in some W3C location and the probem will go away. Maybe.</p>
</div></details></div>
<div class="toot" id="created-373"><h2>Issue #373 created<span class="toot-id"> #created-373</span></h2><div class="pubdate">27 Feb at 09:29:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/373">https://github.com/qt4cg/qtspecs/issues/373</a></div><details><summary>apparent copy/paste error in annotation documentation of simple type yes-or-no-or-maybe</summary><div class="markup"><p>The XSD 1.1 schema for XSLT 3 and the one for XSLT 4 (at https://qt4cg.org/specifications/xslt-40/schema-for-xslt40.xsd) has an error in the annotation/documentation section of the simple type <code>yes-or-no-or-maybe</code> as it there says <code>One of the values "yes" or "no" or "omit".</code>. I think that should be <code>One of the values "yes" or "no" or "maybe"</code>, the error probably exists as someone copied the text from the <code>yes-or-no-or-omit</code> type declaration and forgot to adapt the description.</p>
</div></details></div>
<div class="toot" id="created-372"><h2>Issue #372 created<span class="toot-id"> #created-372</span></h2><div class="pubdate">26 Feb at 23:06:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/372">https://github.com/qt4cg/qtspecs/issues/372</a></div><details><summary>Separate default namespace for elements from the default namespace for types</summary><div class="markup"><p>Currently the static context provides a "default namespace for elements and types". It's not at all clear why these should be the same. For types, the vast majority of QNames representing types are in the XML Schema namespace, which is never used for elements.</p>
<p>In the current 4.0 drafts the two default namespaces are separated; but this has not been reviewed or agreed by the CG. This issue is raised for discussion of the change, and I will also review the design to see whether it still make sense.</p>
<p>Some observations on the current text for XQuery:</p>
<ol>
<li>In section 2.2.1 (static context) it would be good to give a bit more detail (if only as a forwards reference) about the circumstances in which the default element namespace and the default type namespace are used.</li>
<li>In 3.4 Sequence Types the sentence "[Lexical QNames]appearing in a [sequence type] have their prefixes expanded to namespace URIs by means of the [statically known namespaces] and (where applicable) the [default element namespace] or [default type namespace]" is rather inelegantly worded. If there is a prefix, then the statically known namespaces are used; if there is none, then the relevant default namespace is used, and it would be nice to explain more clearly which one applies.</li>
<li>In 3.6 Item Types, we need to be clearer about references to named/declared item types, and about how the names are resolved. Do we really want these names to be in the same symbol space as atomic types? Perhaps we should have a rule that Item Types (like functions) must be in a namespace and this must not be the same as an imported schema namespace.</li>
<li>In 5.14, Default namespace declaration, there seems to be duplication between the two paragraphs starting "for backwards compatibility reasons"</li>
<li>Appendix C.1 (much though I dislike it) should say something about the initialisation of the default namespaces for elements and for types.</li>
</ol>
<p>Note that issue #65 talks of the need for different default namespaces for input and output elements. I think that's a separate issue.</p>
<p>Observations on the current text for XSLT:</p>
<ol>
<li>In 5.1.2.1 the paragraph "The [xsl:]xpath-default-namespace attribute must be in the [XSLT namespace] if and only if its parent element is not in the XSLT namespace needs to be generalised to [xsl:]default-element-namespace. In fact, this rule should move to the parent section 5.1.2, which needs an introduction.</li>
</ol>
</div></details></div>
<div class="toot" id="created-371"><h2>Pull request #371 created<span class="toot-id"> #created-371</span></h2><div class="pubdate">24 Feb at 16:59:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/371">https://github.com/qt4cg/qtspecs/pull/371</a></div><details><summary>Issue 370: forwards and backwards compatibility for 4.0</summary><div class="markup"><p>This is essentially editorial; it updates the XSLT rules for forwards and backwards compatible processing to acknowledge the fact that the current version is now 4.0.</p>
</div></details></div>
<div class="toot" id="created-370"><h2>Issue #370 created<span class="toot-id"> #created-370</span></h2><div class="pubdate">24 Feb at 16:18:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/370">https://github.com/qt4cg/qtspecs/issues/370</a></div><details><summary>Bump XSLT version</summary><div class="markup"><p>There are various places where the XSLT spec refers to XSLT 3.0 where it should now refer to 4.0.</p>
</div></details></div>
<div class="toot" id="agenda-02-28"><h2>QT4 CG meeting 024 draft agenda<span class="toot-id"> #agenda-02-28</span></h2><div class="pubdate">24 Feb at 08:25:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/02-28">https://qt4cg.org/meeting/agenda/2023/02-28</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-352"><h2>Issue #352 closed<span class="toot-id"> #closed-352</span></h2><div class="pubdate">22 Feb at 21:24:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/352">https://github.com/qt4cg/qtspecs/issues/352</a></div><p>The @array attribute of xsl:for-each-group is no more</p></div>
<div class="toot" id="closed-354"><h2>Issue #354 closed<span class="toot-id"> #closed-354</span></h2><div class="pubdate">22 Feb at 10:08:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/354">https://github.com/qt4cg/qtspecs/pull/354</a></div><p>Combine multiple signatures of XSLT functions to use defaults</p></div>
<div class="toot" id="closed-353"><h2>Issue #353 closed<span class="toot-id"> #closed-353</span></h2><div class="pubdate">22 Feb at 10:07:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/353">https://github.com/qt4cg/qtspecs/pull/353</a></div><p>Issue109 xsl note</p></div>
<div class="toot" id="closed-362"><h2>Issue #362 closed<span class="toot-id"> #closed-362</span></h2><div class="pubdate">22 Feb at 10:06:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/362">https://github.com/qt4cg/qtspecs/pull/362</a></div><p>Drop obsolete note in XSLT regarding for-each-group/@array</p></div></div><p>See 199
            more statuses in yearly archives.</p></article></main></body></html>