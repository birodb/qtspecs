<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2023/">2023</a>, <a href="2022/">2022</a></p><div class="toots">
<div class="toot" id="minutes-03-28"><h2>QT4 CG meeting 028 draft minutes<span class="toot-id"> #minutes-03-28</span></h2><div class="pubdate">30 Mar at 16:50:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2023/03-28">https://qt4cg.org/meeting/minutes/2023/03-28</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-404"><h2>Issue #404 closed<span class="toot-id"> #closed-404</span></h2><div class="pubdate">30 Mar at 15:52:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/404">https://github.com/qt4cg/qtspecs/pull/404</a></div><p>Rework changes from action-qt4cg-019-01 to resolve persistent conflicts.</p></div>
<div class="toot" id="closed-398"><h2>Issue #398 closed<span class="toot-id"> #closed-398</span></h2><div class="pubdate">30 Mar at 15:52:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/398">https://github.com/qt4cg/qtspecs/issues/398</a></div><p>User-defined functions clashing with constructor functions</p></div>
<div class="toot" id="closed-406"><h2>Issue #406 closed<span class="toot-id"> #closed-406</span></h2><div class="pubdate">30 Mar at 15:51:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/406">https://github.com/qt4cg/qtspecs/pull/406</a></div><p>Revise xsl:array instruction and examples</p></div>
<div class="toot" id="closed-408"><h2>Issue #408 closed<span class="toot-id"> #closed-408</span></h2><div class="pubdate">30 Mar at 15:51:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/408">https://github.com/qt4cg/qtspecs/pull/408</a></div><p>Fix issue #398 (clash with constructor functions)</p></div>
<div class="toot" id="created-413"><h2>Issue #413 created<span class="toot-id"> #created-413</span></h2><div class="pubdate">30 Mar at 14:08:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/413">https://github.com/qt4cg/qtspecs/issues/413</a></div><details><summary>New function: parse-csv()</summary><div class="markup"><p>I propose a new function parse-csv() that accepts a CSV string (such as might be read from a CSV file using unparsed-text()). CSV is as defined in RFC 4180; implementations may be liberal in what they accept, and may define additional options.</p>
<p>An options parameter includes the option header=true|false to indicate whether the first line should be taken as containing column headings.</p>
<p>The result of the function is a sequence of maps, one map per row of the CSV file (excluding the header). Each map contains one entry per column, the key being taken from the column header if present, or an integer 1...n if not.</p>
</div></details></div>
<div class="toot" id="created-412"><h2>Pull request #412 created<span class="toot-id"> #created-412</span></h2><div class="pubdate">28 Mar at 22:12:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/412">https://github.com/qt4cg/qtspecs/pull/412</a></div><details><summary>xsl:next-match (action QT4CG-027-01, plus issue 409)</summary><div class="markup"><p>Clarifies the rules for xsl:next-match, especially for 4.0 type patterns, but also clarifying the exposition of rules unchanged since 3.0 or 2.0 (see issue 409)</p>
</div></details></div>
<div class="toot" id="created-411"><h2>Pull request #411 created<span class="toot-id"> #created-411</span></h2><div class="pubdate">28 Mar at 11:51:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/411">https://github.com/qt4cg/qtspecs/pull/411</a></div><details><summary>Remove the note from the parse-html unparsed-entity sections.</summary><div class="markup"><p>This applies the review action:</p>
<blockquote>
<p>RD to remove the note in 15.5.15 of functions and operators.</p>
</blockquote>
</div></details></div>
<div class="toot" id="agenda-03-28"><h2>QT4 CG meeting 028 draft agenda<span class="toot-id"> #agenda-03-28</span></h2><div class="pubdate">27 Mar at 13:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/03-28">https://qt4cg.org/meeting/agenda/2023/03-28</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-410"><h2>Issue #410 created<span class="toot-id"> #created-410</span></h2><div class="pubdate">27 Mar at 10:37:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/410">https://github.com/qt4cg/qtspecs/issues/410</a></div><details><summary>Converting doubles to decimals, fractional digits</summary><div class="markup"><p>Adopted from a previous discussion on Slack: The result of the following computation…</p>
<pre><code class="language-xquery">&lt;x&gt;2&lt;/x&gt; + .1
</code></pre>
<p>…is serialized as <code>2.1</code>. If the result is cast to a decimal via <code>xs:decimal(&lt;x&gt;2&lt;/x&gt; + .1)</code>, <code>2.100000000000000088817841970012523233890533447265625</code> is returned, which feels counterintuitive.</p>
<p>Can we possibly change the conversion rules without compromising backward-compatibility?</p>
</div></details></div>
<div class="toot" id="created-409"><h2>Issue #409 created<span class="toot-id"> #created-409</span></h2><div class="pubdate">26 Mar at 11:13:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/409">https://github.com/qt4cg/qtspecs/issues/409</a></div><details><summary>XSLT: xsl:next-match and xsl:apply-imports interaction with on-multiple-match</summary><div class="markup"><p>(This is an oversight in the XSLT 3.0 specification.)</p>
<p>It is possible for <code>xsl:next-match</code> or <code>xsl:apply-imports</code> to encounter a conflict - two template rules with the same precedence and priority. In this situation it should do exactly what <code>xsl:apply-templates</code> does when it encounters a conflict, for example it should follow the rules of <code>xsl:mode/@on-multiple-match</code>.</p>
<p>This is all fairly obvious, but it should be stated explicitly (and tested). The spec is written as if conflicts can only occur when finding the first matching rule, and not when finding next-match rules.</p>
</div></details></div>
<div class="toot" id="closed-392"><h2>Issue #392 closed<span class="toot-id"> #closed-392</span></h2><div class="pubdate">24 Mar at 11:00:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/392">https://github.com/qt4cg/qtspecs/issues/392</a></div><p>Partial function application: Placeholders with keywords</p></div>
<div class="toot" id="created-408"><h2>Pull request #408 created<span class="toot-id"> #created-408</span></h2><div class="pubdate">24 Mar at 10:29:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/408">https://github.com/qt4cg/qtspecs/pull/408</a></div><details><summary>Fix issue #398 (clash with constructor functions)</summary><div class="markup"><p>Add clarification to XSLT and XQuery specs to say that a used-defined function must not clash with a constructor function for an imported atomic type.</p>
</div></details></div>
<div class="toot" id="created-407"><h2>Issue #407 created<span class="toot-id"> #created-407</span></h2><div class="pubdate">23 Mar at 11:39:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/407">https://github.com/qt4cg/qtspecs/issues/407</a></div><details><summary>XSLT-specific context properties used in function items</summary><div class="markup"><p>I just stumbled across the fact that current-group#0 doesn't work: see the note in 14.2.1 that says:</p>
<blockquote>
<p>Like other XSLT extensions to the dynamic evaluation context, the [current group] is not retained as part of the closure of a function value. This means that the expression current-group#0 is valid and returns a function value, but any invocation of this function will fail with a dynamic error [see [ERR XTDE1061].</p>
</blockquote>
<p>This restriction is unnecessary and we should remove it. As people become more accustomed to using function items, they don't want to hit restrictions like this, and there's really no good implementation reason for it.</p>
</div></details></div>
<div class="toot" id="created-406"><h2>Pull request #406 created<span class="toot-id"> #created-406</span></h2><div class="pubdate">22 Mar at 18:03:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/406">https://github.com/qt4cg/qtspecs/pull/406</a></div><details><summary>Revise xsl:array instruction and examples</summary><div class="markup"><p>This PR revises the design of the xsl:array instruction to align it with the recently agreed specs for the functions <code>array:members</code> and <code>array:of</code>. The <code>composite</code> attribute and the <code>xsl:array-member</code> instruction are dropped; instead the instruction takes a <code>use</code> attribute which is an expression used to compute each array member value from the corresponding item in the value of the select expression or sequence constructor.</p>
</div></details></div>
<div class="toot" id="closed-405"><h2>Issue #405 closed<span class="toot-id"> #closed-405</span></h2><div class="pubdate">21 Mar at 18:12:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/405">https://github.com/qt4cg/qtspecs/pull/405</a></div><p>MK PR #360 with merge conflicts resolved (array compositionand decomposition)</p></div>
<div class="toot" id="created-405"><h2>Pull request #405 created<span class="toot-id"> #created-405</span></h2><div class="pubdate">21 Mar at 18:01:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/405">https://github.com/qt4cg/qtspecs/pull/405</a></div><details><summary>MK PR #360 with merge conflicts resolved (array compositionand decomposition)</summary><div class="markup"><p>Close #360</p>
<p>This PR is the same as 360 but fixes merge conflicts.</p>
<p>Accepted at <a href="https://qt4cg.org/meeting/minutes/2023/03-21.html#pr-360">meeting 027</a></p>
<p>Close https://github.com/qt4cg/qtspecs/issues/314</p>
</div></details></div>
<div class="toot" id="closed-400"><h2>Issue #400 closed<span class="toot-id"> #closed-400</span></h2><div class="pubdate">21 Mar at 17:19:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/400">https://github.com/qt4cg/qtspecs/issues/400</a></div><p>Priorities for type-based patterns</p></div>
<div class="toot" id="closed-401"><h2>Issue #401 closed<span class="toot-id"> #closed-401</span></h2><div class="pubdate">21 Mar at 17:18:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/401">https://github.com/qt4cg/qtspecs/pull/401</a></div><p>Issue 400: ranking of type patterns</p></div>
<div class="toot" id="closed-395"><h2>Issue #395 closed<span class="toot-id"> #closed-395</span></h2><div class="pubdate">21 Mar at 17:17:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/395">https://github.com/qt4cg/qtspecs/pull/395</a></div><p>Make the (non-)hierarchical nature of URIs explicit</p></div>
<div class="toot" id="closed-394"><h2>Issue #394 closed<span class="toot-id"> #closed-394</span></h2><div class="pubdate">21 Mar at 17:17:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/394">https://github.com/qt4cg/qtspecs/pull/394</a></div><p>Minor correction to fn:parse-uri</p></div>
<div class="toot" id="closed-393"><h2>Issue #393 closed<span class="toot-id"> #closed-393</span></h2><div class="pubdate">21 Mar at 17:16:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/393">https://github.com/qt4cg/qtspecs/pull/393</a></div><p>Clarify explanations of functions/function items</p></div>
<div class="toot" id="closed-391"><h2>Issue #391 closed<span class="toot-id"> #closed-391</span></h2><div class="pubdate">21 Mar at 17:16:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/391">https://github.com/qt4cg/qtspecs/pull/391</a></div><p>addressed typographical errors; adjusted Unicode character discussion…</p></div>
<div class="toot" id="agenda-03-21"><h2>QT4 CG meeting 027 draft agenda<span class="toot-id"> #agenda-03-21</span></h2><div class="pubdate">21 Mar at 10:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2023/03-21">https://qt4cg.org/meeting/agenda/2023/03-21</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-404"><h2>Pull request #404 created<span class="toot-id"> #created-404</span></h2><div class="pubdate">20 Mar at 15:59:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/404">https://github.com/qt4cg/qtspecs/pull/404</a></div><details><summary>Rework changes from action-qt4cg-019-01 to resolve persistent conflicts.</summary><div class="markup"><p>I reworked these (purely editorial) changes based on the current master to try and resolve the conflicts once and for all.</p>
</div></details></div>
<div class="toot" id="created-403"><h2>Pull request #403 created<span class="toot-id"> #created-403</span></h2><div class="pubdate">20 Mar at 15:26:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/403">https://github.com/qt4cg/qtspecs/pull/403</a></div><p>Michaelhkay actions 2023 02 01</p></div>
<div class="toot" id="created-402"><h2>Issue #402 created<span class="toot-id"> #created-402</span></h2><div class="pubdate">20 Mar at 00:31:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/402">https://github.com/qt4cg/qtspecs/issues/402</a></div><details><summary>XSLT patterns: intersect and except</summary><div class="markup"><p>I would like to propose making an incompatible change to the semantics of XSLT patterns using the "except" and "intersect" operators, so that they have their intuitive meaning.</p>
<p>Consider the pattern <code>p except appendix//p</code>. Anyone writing this probably imagines that this will match any <code>p</code> element that does not have an <code>appendix</code> as an ancestor. The intuitive meaning of <code>A except B</code> is to match anything that matches<code>A</code> unless it also matches <code>B</code>.</p>
<p>The actual meaning in the XSLT 3.1 specification is that it matches any node <code>$N</code> that has an ancestor <code>$A</code> such that the result of the XPath expression <code>$A//(p except appendix//p)</code> includes <code>$N</code>.</p>
<p>Consider the XML</p>
<pre><code>&lt;appendix&gt;
  &lt;div&gt;
     &lt;p&gt;...&lt;/p&gt;
  &lt;/div&gt;
&lt;/appendix&gt;
</code></pre>
<p>The <code>&lt;p&gt;</code> element here has an ancestor (the <code>&lt;div&gt;</code> element) where the result of <code>$A//(p except appendix//p)</code> includes the <code>&lt;p&gt;</code> element. So despite having an ancestor <code>appendix</code> this element matches the pattern <code>p except appendix//p</code>. This is not only a counter-intuitive result, it also makes such patterns useless in practice.</p>
<p>Patterns using <code>intersect</code> suffer the same problem, though it is much harder to construct a plausible example.</p>
<p>Patterns that only use the child or attribute axis, for example <code>@* except @code</code>, or <code>* except note</code>, don't suffer from this problem and will retain the same meaning as in 3.1.</p>
<p>The required effect can be achieved by writing <code>p except p[ancestor::appendix]</code>. Because the pattern <code>p[ancestor::appendix]</code> is equivalent to <code>appendix//p</code>, people are very likely to imagine that <code>p except p[ancestor::appendix]</code> is equivalent to <code>p except appendix//p</code>.</p>
<p>Making any incompatible change to the language semantics should be done only with a very strong justification, but I believe that it is justified in this instance. The existing semantics are not only counter-intuitive, they are also sufficiently useless that it is extremely unlikely anyone has existing working code, other than artificial test cases, that relies on the current semantics.</p>
</div></details></div>
<div class="toot" id="closed-387"><h2>Issue #387 closed<span class="toot-id"> #closed-387</span></h2><div class="pubdate">19 Mar at 11:10:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/387">https://github.com/qt4cg/qtspecs/pull/387</a></div><p>Add compatibility notes for fn:namespace-uri-for-prefix</p></div>
<div class="toot" id="closed-385"><h2>Issue #385 closed<span class="toot-id"> #closed-385</span></h2><div class="pubdate">19 Mar at 11:09:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/385">https://github.com/qt4cg/qtspecs/pull/385</a></div><p>Actions QT4CG-025-07 / -08</p></div>
<div class="toot" id="closed-378"><h2>Issue #378 closed<span class="toot-id"> #closed-378</span></h2><div class="pubdate">19 Mar at 11:06:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/378">https://github.com/qt4cg/qtspecs/pull/378</a></div><p>Update the localName and unparsed entity reference notes for parse-html</p></div></div><p>See 250
            more statuses in yearly archives.</p></article></main></body></html>